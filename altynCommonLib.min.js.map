{"version":3,"sources":["altynCommonLib.js"],"names":["define","exports","module","_react","_interopRequireDefault","obj","__esModule","default","getAjaxRequest","url","type","dataType","successFn","errorFn","data","window","isMobile","_store","_networkFeature","getNetworkFeatureAjaxRequest","getJqueryAjaxRequest","contentType","success","callStack","shift","nextCall","error","call","getAJAX","params","then","isAndroid","push","length","statusCode",302,"jqXHR","textStatus","errorThrown","this","crossDomain","location","reload","send","XMLHttpRequest","prototype","addEventListener","responseURL","readyState","indexOf","console","log","href","apply","arguments","Object","assign","$","ajax","noop","fallThrough","arg","makeList","Array","isArray","toTitleCase","str","replace","txt","charAt","toLocaleUpperCase","substr","toLowerCase","formatNumber","number","precision","undefined","toPrecision","string","separators","numberSeparator","getLocale","decimalSeparator","integerSeparator","floatPoint","leftPart","slice","rightPart","leftResult","total","num","TypeError","Math","round","pow","sortArrayByProperty","arr","prop","sortFunc","property","sortOrder","a","b","result","sort","configureTranslate","newTranslate","Error","_translate","translate","toTranslate","getTranslatorWithAdditional","translations","locale","keys","getCardType","cardNumber","_i","card_types","match","pattern","isCardNumberValid","cardType","valid_length","ca","sum","mul","len","parseInt","isTimeout","smth","isAbortable","_debounce","callerId","callback","interval","warn","currCall","_debounceCalls","clearTimeout","abort","setTimeout","resp","getDataStore","_handleFb","shortToken","hash","accessTokenMatch","getUrlParams","_getFBMeWithShortToken","updateClient","facebookLogin","d","e","_generateFBToken","_fbAllowed","history","pushState","document","title","pathname","altyn","zonePrefix","_getFBTokenStatus","response","subscribe","entityName","callbackList","entities","_callbacks","unsubscribe","index","splice","getEntities","ent","cback","updateResult","changedEntity","isLoading","loadingError","forEach","entityMeta","meta","lastLoadAttempt","max","lastSuccessfulLoad","_getEntitiesCalls","name","entityRetriever","_retriever","stopGettingEntities","getAll","resultProcessed","each","key","value","exchange","settings","currency","stack","exchangeInner","exchangeRates","calculateSync","hasToAmount","toAmount","fromCurrency","toCurrency","fromAmount","serverCall","amount","_settings$fromAmount","_settings$toAmount","_settings$callback","_settings$callerId","_settings$debounceTime","debounceTime","_servicesConfig","_settings$calculateOnlyOnClient","calculateOnlyOnClient","hasFromAmount","syncResult","getCountryTransferData","countryId","_countryTransferDataCache","xhr","ajaxOptions","thrownError","clientByIban","beneficiaryNumber","clientByPhone","phoneNumber","clientByFacebook","getBankBySWIFT","changePassword","sendSmsWithTemporaryCode","checkTemporaryCode","code","getPublicProcesses","getActiveProcesses","param","offset","size","processStatus","encodeURIComponent","ecmShowDocumentList","_ref2","processId","documentType","documentNumber","documentId","iin","correctUrl","filter","item","join","encodeUpdateUrl","dId","encodeDownloadUrl","dName","dExt","totalName","encodePreviewUrl","getCommission","accountCurrency","providerId","_settings$callerId2","_settings$debounceTime2","getInterestAmount","capitalizationType","duration","openDate","productCode","_settings$debounceTime3","calculateTransaction","calculateTransactionTotal","transData","fromCommission","from","loading","to","toCommission","commissionLoading","commission","commId","commData","feeInAccountCurrency","feeInPaymentCurrency","transaction","expected","err","_callback","resultFromAmount","isServerSideCalculated","resultRate","currencyUpper","exchangeRate","rate","rateOrigin","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","_iterator","Symbol","iterator","next","done","uploadFiles","_ref3","checkTypeFile","i","testApplyTypeDocs","errorType","files","updateUrl","callbackError","formData","FormData","applyTypeDocs","errorSize","typeFile","_i2","file","append","open","onload","JSON","parse","storeInterface","ecmThumbReady","onreadystatechange","oEvent","status","originalTarget","responseText","errorDescription","urlExisting","getNormativeDocument","outerCallback","documents","getDocumentById","id","saveColvirClient","clientData","stringify","providerByServiceCategory","category","saveTemplate","templateData","updateTemplate","deleteTemplate","getOperations","dateBegin","dateEnd","start","iban","checkVacantUser","checkIIN","structIIN","checkVIN","vin","nomer","getItemsAltynStruct","setClientAltyn","clients","errorC","checkRefsExists","docNumber","getDocCertificates","rawData","getDepositCertificates","getDocRequisites","getDocCurrent","issueDate","getDocDeposit","getDepositContractById","contractId","passportReader","fileName","_i3","onerror","getBatchAttrDataCap","queueId","getDataCapFile","batchId","getDepositContractByIban","getUnauthorizedFeedbackCase","messageData","getP2POrder","_ref4","getAllBills","getFBLoginUrl","_ref5","accountLinking","_fbAppId","origin","search","getFBInviteUrl","_ref6","_ref7","canCallFB","getFBMe","fbCountError","getFBFriends","deleteFbApp","saveClientAddress","getProfileData","getImageByUrl","getBankByIbanAccCode","ibanCode","getDesignCard","_ref8","productType","productName","design","isResident","getAccountProductCode","_ref9","getCitiesKorona","countryISO","getCurrenciesKorona","cityId","koronaTariffCalculation","directionID","payCurrency","getNotifications","booleanTypeList","closeNotification","notificationId","openProcessByProcessId","urlResolver","networkFeature","_generated","_urlResolver","_entitiesConfig","entityConfig","_generateEntity","serviceName","serviceConfig","oneTimeExchangeRateSubscription","fbAppId","translationTaskName","taskName","fbServices","notifications","_React","debugmode","methods","cookie","getDesign","getUserAgent","ua","navigator","userAgent","os","browser","ru-RU","en-US","kk-KZ","query","substring","pl","decode","s","decodeURIComponent","urlParams","exec","createQueryString","paramMap","getCookie","split","RegExp","f","niceName","PropTypes","arrayOf","shape","cardData","blockFlag","isRequiredNonEmpty","cardCode","customerId","embossedName","fromDate","tariffId","toDate","account","balance","isRequired","branchCode","branchName","currAlfaCode","currName","firstname","lastMove","lastname","operBalance","regDate","dataTransformer","cardWrapped","map","card","balanceTrue","produced","_raw","rateList","currIsoCode","currSaleAlfaCode","currSaleIsoCode","rateType","oneOf","allRates","resultRates","currList","currKeys","resultRatesUpper","_ref","text","unshift","curr","currencyList","exchangeRatesUpper","objectOf","countryList","country","longName","BUY","SELL","depositList","deposit","beginDate","capital","contructNum","departmentId","endDate","isAdPayment","isEarlyTermination","isPartialFund","isPartialReward","payPeriod","percent","prolonPermit","rewardAmount","sdclCode","nonRemovableResidue","contractNum","operationList","operation","errorCode","errorMessage","templateList","template","description","fields","uid","bpmId","bpmName","createDate","creator","updateDate","tmpl","paymentData","payerId","payerType","paymentCurrency","paymentFee","paymentSum","accountList","isBlocked","Boolean","bool","middlename","blockedCount","object","client","inn","mobilePhone","addressList","address","fullAddress","isDelivery","lastName","firstName","middleName","dateOfB","clientLogin","fatca","sex","email","suppliers","productList","product","paymentSystem","kind","array","costIssue","costDelivery","costSelfDelivery","regionList","region","cityList","city","bankInf","cityInf","countryName","notification","isSeen","seenDate","smsChanelFlg","pushChanelFlg","emailChanelFlg","userLogin","timeout","getServiceProviders","oneOfType","func","ecmDocumentList","encodedUrl","ecmDocumentPreview","ecmDocumentThumbExisting","ecmDocumentDownload","ecmDocumentUpload","ecmDocumentUpdate","dataCapUpload","fbTokenStatus","generateFBToken","fbHost","fbProxy","fbMe","fbFriends","fbPermissions","_entityConfig$dataTransformer","entity","onSuccess","loadTime","Date","getTime","onError","finalData","lib"],"mappings":"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","file":"altynCommonLib.min.js","sourcesContent":["// TODO\n//\t1. Remove jquery dependency (e.g. $.ajax, $.each)\n//\t2. Remove React dependency (e.g. PropTypes)\n\nimport React from 'react';\n\n// TODO разобраться с headers\n\nfunction getAjaxRequest(url, type, dataType, successFn, errorFn, data){\n\tif(window.isMobile && _store._networkFeature){\n\t\treturn getNetworkFeatureAjaxRequest(url, type, dataType, successFn, errorFn, data)\n\t}\n\telse {\n\t\treturn getJqueryAjaxRequest(url, type, dataType, successFn, errorFn, data)\n\t}\n}\n\nvar callStack = [];\n\nfunction getNetworkFeatureAjaxRequest(url, type, contentType, successFn, errorFn, data){\n\n\tvar params = (!window.isAndroid)\n\t\t? `{\"url\": \"${url}\", \"type\": \"${type}\", \"contentType\": \"${contentType}\", \"data\": ` + (data?data:'{}') + '}'\n\t\t: \"{'url': '\" + url + \"','type': '\" + type + \"','contentType': '\" + contentType + \"','data': '\"+ data +\"'}\";\n\n\tfunction success (data){\n\t\tsuccessFn(data);\n\t\tcallStack.shift();\n\t\tnextCall();\n\t}\n\tfunction error (data){\n\t\terrorFn(data);\n\t\tcallStack.shift();\n\t\tnextCall();\n\t}\n\tfunction nextCall(){\n\t\tvar call = callStack[0];\n\t\tif(call){\n\t\t\t_store._networkFeature.getAJAX(call.params).then(\n\t\t\t\tfunction(data){call.successFn(data);},\n\t\t\t\tfunction(data){call.errorFn(data);}\n\t\t\t);\n\t\t}\n\t}\n\tcallStack.push({params:params, successFn:success, errorFn:error})\n\tif (callStack.length == 1){\n\t\tnextCall();\n\t}\n}\nfunction getJqueryAjaxRequest(url, type, contentType, successFn, errorFn, data){\n\tlet obj = {\n\t\tstatusCode: {\n\t\t\t302: function(jqXHR, textStatus, errorThrown) {\n\t\t\t\tif (this.crossDomain === false) {\n\t\t\t\t\t// We got redirect from our server. Trust it to be logout redirect.\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t(function(send) {\n\t\tXMLHttpRequest.prototype.send = function() {\n\t\t\tthis.addEventListener(\"readystatechange\", function() {\n\t\t\t\tif (this.responseURL && this.readyState == 4 && ( (this.responseURL.indexOf('login.sbr.at-consulting.ru') > -1)\n\t\t\t\t\t\t|| (this.responseURL.indexOf('login.altyn-i.kz') > -1)\n\t\t\t\t\t\t|| (this.responseURL.indexOf('uat-login.altyn-i.kz') > -1))) {\n\t\t\t\t\tconsole.log('responseURL', this.responseURL);\n\t\t\t\t\tlocation.href = \"/portalserver/altyn/inner_page\";\n\t\t\t\t}\n\t\t\t}, false);\n\t\t\tsend.apply(this, arguments);\n\t\t};\n\t})(XMLHttpRequest.prototype.send);\n\n\tswitch (type){\n\t\tcase \"GET\":\n\t\tcase \"PUT\":\n\t\t\tObject.assign(obj, {url: url, type: type, success: successFn, error: errorFn});\n\t\t\tbreak;\n\t\tcase \"POST\":\n\t\tcase \"DELETE\":\n\t\t\tObject.assign(obj, {url: url, type: type, contentType: contentType, data: data, success: successFn, error: errorFn});\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tconsole.error(\"Type \" + type + \"not supported!\");\n\t}\n\treturn $.ajax(obj);\n}\n\n//\t'Empty' function\nfunction noop() {\n}\n\n//clear console.log for prod\nif (!window.altyn.debugmode) {\n\tif(!window.console) window.console = {};\n\n\tvar methods = [\"log\", \"debug\", \"warn\", \"info\"];\n\n\tfor(var i=0;i<methods.length;i++){\n\t\twindow.console[methods[i]] = function(){};\n\t}\n}\n\n//\tFunction that returns first argument, unchanged\nfunction fallThrough(arg) {\n\treturn arg;\n}\n\n//\tFunction that makes a list if arg is not array, for streamlining APIs\nfunction makeList(arg) {\n\tif (typeof(arg) === \"undefined\" || arg === null) return null;\n\n\treturn (Array.isArray(arg)) ? arg : [arg];\n}\n\n//>> getLocale()\n//<< \"ru-RU\"\nvar getLocale = (typeof(document) !== \"undefined\")\n\t? function () {\n\treturn document.cookie.replace(/(?:(?:^|.*;\\s*)altyn\\.locale\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\") || \"ru-RU\";\n}\n\t: function () {\n\treturn \"ru-RU\";\n}\n\nvar getDesign = (typeof(document) !== \"undefined\")\n\t? function () {\n\treturn document.cookie.replace(/(?:(?:^|.*;\\s*)altyn\\.design\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\") || \"design_1\";\n}\n\t: function () {\n\treturn \"design_1\";\n}\n\nvar getUserAgent = (function () {\n\tvar obj = {},\n\t\tua = navigator.userAgent;\n\n\tif( ua.match(/Android/i)) {\n\t\tobj.os = \"android\"\n\t} else if (ua.match(/iPhone/i)\n\t\t|| ua.match(/iPad/i)\n\t\t|| ua.match(/iPod/i)) {\n\t\tobj.os = \"ios\"\n\t} else {\n\t\tobj.os = \"desktop\"\n\t}\n\n\tif ( ua.match(/MSIE/)) {\n\t\tobj.browser = \"ie\"\n\t} else if (ua.match(/Firefox/)) {\n\t\tobj.browser = \"firefox\"\n\t} else if (ua.match(/Opera/)) {\n\t\tobj.browser = \"opera\"\n\t} else if (ua.match(/Chrome/)) {\n\t\tobj.browser = \"chrome\"\n\t} else if (ua.match(/Safari/)) {\n\t\tobj.browser = \"safari\"\n\t}\n\n\tobj.ua = navigator.userAgent;\n\n\treturn obj;\n\n})();\n\n// (Not in lib; temporary function) To obfuscate card number.\nfunction hiddenCardNumber(argument) {\n\treturn argument.slice(0, 7) + ' **** ' + argument.slice(-4);\n}\n\n//>> toTitleCase(\"иванов петров\")\n//<< \"Иванов Петров\"\nfunction toTitleCase(str) {\n\treturn str.replace(/[а-яА-ЯёЁa-zA-Z]\\S*/g, (txt) => {\n\t\treturn txt.charAt(0).toLocaleUpperCase() + txt.substr(1).toLowerCase()\n\t})\n}\n\nconst numberSeparator = {\n\t'ru-RU': {\n\t\tdecimalSeparator: '.',\n\t\tintegerSeparator: ' '\n\t},\n\t'en-US': {\n\t\tdecimalSeparator: ',',\n\t\tintegerSeparator: ' '\n\t},\n\t'kk-KZ': {\n\t\tdecimalSeparator: '.',\n\t\tintegerSeparator: ' '\n\t},\n\t'default': {\n\t\tdecimalSeparator: '.',\n\t\tintegerSeparator: ' '\n\t}\n};\n//>> formatNumber(1045.9)\n//<< \"1 045.90\"\nfunction formatNumber(number, precision = 2) {\n\tvar number = toPrecision(+number, precision)\n\n\tvar string = \"\" + number,\n\t\tseparators = numberSeparator[getLocale()] || numberSeparator[\"default\"],\n\t\tdecimalSeparator = separators[\"decimalSeparator\"],\n\t\tintegerSeparator = separators[\"integerSeparator\"];\n\n\tvar floatPoint = (string.indexOf(\".\") !== -1) ? (string.indexOf(\".\")) : (string.length + 1),\n\t\tleftPart = string.slice(0, (floatPoint)),\n\t\trightPart = string.slice(floatPoint + 1),\n\t\tleftResult = leftPart.replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, \"$1\" + integerSeparator),\n\t\ttotal = \"\";\n\n\tif (rightPart.length === 0) {\n\t\trightPart = \"00\"\n\t} else if (rightPart.length === 1) {\n\t\trightPart = rightPart + \"0\";\n\t}\n\n\trightPart = rightPart.slice(0, precision);\n\tif (precision === 0) {\n\t\tdecimalSeparator = \"\";\n\t}\n\n\ttotal = \"\" + leftResult + decimalSeparator + rightPart;\n\n\treturn total;\n}\n\nfunction toPrecision(num, precision = 2) {\n\n\tif (typeof(num) !== \"number\" || typeof(precision) !== \"number\") {\n\t\tthrow new TypeError(\"Non-number(s) provided to 'toPrecision' function\")\n\t}\n\treturn Math.round(num * Math.pow(10, precision)) / Math.pow(10, precision);\n}\n// http://stackoverflow.com/a/2880929\n//>> getUrlParams() // at example.com?a=12&b&c=hey%20\n//<< {a: \"12\", b: \"\", c: \"hey \"}\nvar getUrlParams = function (query = window.location.search.substring(1)) {\n\tvar match,\n\t\tpl = /\\+/g,  // Regex for replacing addition symbol with a space\n\t\tsearch = /([^&=]+)=?([^&]*)/g,\n\t\tdecode = function (s) {\n\t\t\treturn decodeURIComponent(s.replace(pl, \" \"));\n\t\t};\n\n\tvar urlParams = {};\n\twhile (match = search.exec(query))\n\t\turlParams[decode(match[1])] = decode(match[2]);\n\n\treturn urlParams;\n};\nvar createQueryString = function (paramMap) {\n\tlet params = [];\n\tfor (let key in paramMap) {\n\t\tlet value = paramMap[key];\n\t\tif (typeof(value) === \"string\" || typeof(value) === \"number\") {\n\t\t\tparams.push(key + \"=\" + value);\n\t\t}\n\t}\n\tlet str = params.join(\"&\");\n\treturn (str.length) ? \"?\" + str : \"\";\n}\n\n\n// Google Analytics code for getting cookies\n//>> getCookie(\"altyn.debug.pingInterval\")\n//<< \"3000\"\nvar getCookie = function c(a) {\n\tvar d = [],\n\t\te = document.cookie.split(\";\");\n\ta = RegExp(\"^\\\\s*\" + a + \"=\\\\s*(.*?)\\\\s*$\");\n\tfor (var b = 0; b < e.length; b++) {\n\t\tvar f = e[b].match(a);\n\t\tf && d.push(f[1])\n\t}\n\treturn d\n}\n\nfunction sortArrayByProperty(arr, prop) {\n\tlet sortFunc =  (property) => {\n\t\tvar sortOrder = 1;\n\t\tif(property[0] === \"-\") {\n\t\t\tsortOrder = -1;\n\t\t\tproperty = property.substr(1);\n\t\t}\n\t\treturn function (a,b) {\n\t\t\tvar result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n\t\t\treturn result * sortOrder;\n\t\t}\n\t}\n\n\treturn arr.sort(sortFunc(prop))\n}\n\n//\n//\tTranslate stuff. You can configure global translate with\n//\t\tsome function (e.g. angular translate), and get translator function\n//\t\tthat utilizes some passed translations in addition to global translate.\n//\nlet _translate = fallThrough;\nfunction configureTranslate(newTranslate) {\n\tif (typeof(newTranslate) !== \"function\") {\n\t\tthrow new Error(\"Not valid function passed to configureTranslate\");\n\t}\n\n\t_translate = newTranslate;\n}\nfunction translate(toTranslate) {\n\t//console.log(\"toTranslate\", toTranslate)\n\treturn _translate(toTranslate);\n}\nfunction getTranslatorWithAdditional(translations) {\n\t//console.log(\"libs translations\" , translations)\n\n\treturn function (toTranslate) {\n\t\tlet locale = getLocale();\n\t\treturn (Object.keys(translations).length != 0\n\t\t&& translations[locale][toTranslate]) ? translations[locale][toTranslate] : translate(toTranslate);\n\t}\n}\n\n//\n//\tCard number validity\n//\tAllows for different types of cards (configurable only in lib yet)\n\n//>> isCardNumberValid(\"1111111111111111\")\n//<< false\n//\n\n//https://github.com/PawelDecowski/jQuery-CreditCardValidator/\nlet card_types = [\n\t{\n\t\tname: 'amex',\n\t\tniceName: \"American Express\",\n\t\tpattern: /^3[47]/,\n\t\tvalid_length: [15]\n\t}, {\n\t\tname: 'diners_club_carte_blanche',\n\t\tpattern: /^30[0-5]/,\n\t\tvalid_length: [14]\n\t}, {\n\t\tname: 'diners_club_international',\n\t\tpattern: /^36/,\n\t\tvalid_length: [14]\n\t}, {\n\t\tname: 'jcb',\n\t\tpattern: /^35(2[89]|[3-8][0-9])/,\n\t\tvalid_length: [16]\n\t}, {\n\t\tname: 'laser',\n\t\tpattern: /^(6304|670[69]|6771)/,\n\t\tvalid_length: [16, 17, 18, 19]\n\t}, {\n\t\tname: 'visa_electron',\n\t\tniceName: \"Visa Electron\",\n\t\tpattern: /^(4026|417500|4508|4844|491(3|7))/,\n\t\tvalid_length: [16]\n\t}, {\n\t\tname: 'visa',\n\t\tniceName: \"Visa Classic\",\n\t\tpattern: /^4/,\n\t\tvalid_length: [16]\n\t}, {\n\t\tname: 'mastercard',\n\t\tniceName: \"MasterCard Standard\",\n\t\tpattern: /^5[1-5]/,\n\t\tvalid_length: [16]\n\t}, {\n\t\tname: 'maestro',\n\t\tniceName: \"MasterCard Maestro\",\n\t\tpattern: /^(5018|5020|5038|6304|6759|676[1-3])/,\n\t\tvalid_length: [12, 13, 14, 15, 16, 17, 18, 19]\n\t}, {\n\t\tname: 'discover',\n\t\tpattern: /^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,\n\t\tvalid_length: [16]\n\t}\n];\n\nfunction getCardType(cardNumber) {\n\tif (typeof(cardNumber) !== \"string\") {\n\t\tthrow new Error(\"getCardType('cardNumber') - 'cardNumber' should be string\");\n\t}\n\tfor (let i in card_types) {\n\t\tif (cardNumber.match(card_types[i].pattern)) {\n\t\t\treturn card_types[i];\n\t\t}\n\t}\n\treturn null;\n}\nfunction isCardNumberValid(cardNumber) {\n\tif (typeof(cardNumber) !== \"string\") {\n\t\tthrow new Error(\"isCardNumberValid('cardNumber') - 'cardNumber' should be string\");\n\t}\n\n\t//Type\n\tlet cardType = getCardType(cardNumber);\n\tif (!cardType) {\n\t\treturn false;\n\t}\n\n\t//Length\n\tif (cardType.valid_length.indexOf(cardNumber.length) === -1) {\n\t\treturn false;\n\t}\n\n\t// Luhn\n\t//https://sites.google.com/site/abapexamples/javascript/luhn-validation\n\tlet ca, sum = 0, mul = 1;\n\tlet len = cardNumber.length;\n\twhile (len--) {\n\t\tca = parseInt(cardNumber.charAt(len), 10) * mul;\n\t\tsum += ca - (ca > 9) * 9;// sum += ca - (-(ca>9))|9\n\t\t// 1 <--> 2 toggle.\n\t\tmul ^= 3; // (mul = 3 - mul);\n\t}\n\t;\n\treturn (sum % 10 === 0) && (sum > 0);\n}\n\n\n//\n//\tDebouncer - calls callback with delay, if debouncer is\n//\t\trepeatedly called - reinitialize delay\n//\n//\tUsage:\n//\t_debounce(\"internalTransfer.getSpecificData\", () => {\n//\t\t$.ajax({\n//\t\t\turl: \"someUrl\",\n//\t\t\tsuccess: (result) => {\n//\t\t\t\t//...do something with result.\n//\t\t\t}\n//\t\t});\n//\t});\n//\nfunction isTimeout(smth) { //Simplistic check\n\treturn (typeof(smth) === \"number\");\n}\nfunction isAbortable(smth) {\n\treturn (smth && typeof(smth[\"abort\"]) === \"function\");\n}\nlet _debounceCalls = {};\nfunction _debounce(callerId, callback = noop, interval = 300) {\n\tif (typeof(callerId) !== \"string\" || !callerId.length) {\n\t\tthrow new TypeError(\"Invalid 'callerId' supplied to _debounce\");\n\t}\n\tif (typeof(interval) !== \"number\" || interval < 10) {\n\t\tthrow new TypeError(\"Invalid 'interval' supplied to _debounce\");\n\t}\n\tif (callback === noop) {\n\t\tconsole.warn(\"No 'callback' supplied to _debounce; using noop\");\n\t}\n\n\n\tlet currCall = _debounceCalls[callerId];\n\tif ( isTimeout(currCall) ) {\n\t\twindow.clearTimeout(currCall);\n\t}\n\telse if ( isAbortable(currCall) ) {\n\t\tcurrCall.abort();\n\t}\n\n\t_debounceCalls[callerId] = window.setTimeout(()=>{\n\t\tlet resp = callback();\n\t\tif (isAbortable(resp)) {\n\t\t\t_debounceCalls[callerId] = resp;\n\t\t}\n\t\telse {\n\t\t\tdelete _debounceCalls[callerId];\n\t\t}\n\t}, interval);\n}\n\n/*\n\n Data stores\n\n\n */\n//\n//\turlResolver used to resolve portal placeholders, incl. \"$(resourceRoot)\" for\n//\t\tmobile application.\n//\nlet _store = {\n\tentities: {},\n\t_generated: false\n};\nlet _entitiesConfig = [\n\t{\n\t\t\"name\": \"cards\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/cards\",\n\t\t// \"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/cards.json\",\n/*\t\t\"expected\": React.PropTypes.shape({\n\t\t\tcustomerCardList: React.PropTypes.shape({\n\t\t\t\tcard: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcardCode: React.PropTypes.string, // Card can be without number if not emitted\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tembossedName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tfromDate: React.PropTypes.number, // Card can be without fromDate\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string,//.isRequiredNonEmpty, // not really required, human-readable text\n\t\t\t\t\t\ttariffId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\ttoDate: React.PropTypes.number, // Card can be without toDate\n\t\t\t\t\t\taccount: React.PropTypes.shape({\n\t\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\t\tbranchCode: React.PropTypes.string,\n\t\t\t\t\t\t\tbranchName: React.PropTypes.string,\n\t\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tcurrName: React.PropTypes.string,\n\t\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tlastMove: React.PropTypes.number,\n\t\t\t\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\t\t\t\toperBalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\t\tproductCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tproductName: React.PropTypes.string,\n\t\t\t\t\t\t\tregDate: React.PropTypes.number,\n\t\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tstatusCode: React.PropTypes.string,//.isRequiredNonEmpty, // not really required, human-readable text\n\t\t\t\t\t\t\ttitle: React.PropTypes.string,\n\t\t\t\t\t\t\ttype: React.PropTypes.string\n\t\t\t\t\t\t}).isRequired\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired//NonEmpty\n\t\t\t}).isRequired\n\t\t}).isRequired, */\n\t\t\"expected\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tcardData: React.PropTypes.shape({\n\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tcardCode: React.PropTypes.string, /* Card can be without number if not emitted */\n\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tembossedName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tfromDate: React.PropTypes.number, /* Card can be without fromDate */\n\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\ttariffId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\ttoDate: React.PropTypes.number, /* Card can be without toDate */\n\t\t\t\t\taccount: React.PropTypes.shape({\n\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tbranchCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tbranchName: React.PropTypes.string,\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrName: React.PropTypes.string,\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tlastMove: React.PropTypes.number,\n\t\t\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\t\t\toperBalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tproductCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tproductName: React.PropTypes.string,\n\t\t\t\t\t\tregDate: React.PropTypes.number,\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\t\ttitle: React.PropTypes.string,\n\t\t\t\t\t\ttype: React.PropTypes.string\n\t\t\t\t\t}).isRequired\n\t\t\t\t}).isRequired,\n\t\t\t\tcardType: React.PropTypes.string.isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet result = data//[\"customerCardList\"][\"card\"]\n\t\t\t\t.filter(function (cardWrapped) {\n\t\t\t\t\treturn (cardWrapped[\"cardData\"][\"statusCode\"] === \"DELIVERED\");\n\t\t\t\t})\n\t\t\t\t.map(function (cardWrapped) {\n\t\t\t\t\tvar card = cardWrapped[\"cardData\"],\n\t\t\t\t\t\ttype = cardWrapped[\"cardType\"];\n\t\t\t\t\treturn {\n\t\t\t\t\t\tbalanceTrue: card.account.balance,\n\t\t\t\t\t\tbalance: card.account.operBalance,\n\t\t\t\t\t\tiban: card.account.iban,\n\t\t\t\t\t\tid: card.cardCode,\n\t\t\t\t\t\ttype: type,//getCardType(card.cardCode).niceName || getCardType(card.cardCode).name,\n\t\t\t\t\t\tcurrency: card.account.currAlfaCode,\n\t\t\t\t\t\tbranchCode: card.account.branchCode\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\t\"produced\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty, /* For filtered cards we always have its number */\n\t\t\t\ttype: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tcurrency: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t}).isRequired\n\t\t).isRequired\n\t},\n\t{\n\t\t\"name\": \"cardsAllStatuses6\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/cards6\",\n\t\t\"expected\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tcardData: React.PropTypes.shape({\n\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tcardCode: React.PropTypes.string, /* Card can be without number if not emitted */\n\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tembossedName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tfromDate: React.PropTypes.number, /* Card can be without fromDate */\n\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\ttariffId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\ttoDate: React.PropTypes.number, /* Card can be without toDate */\n\t\t\t\t\taccount: React.PropTypes.shape({\n\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tbranchCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tbranchName: React.PropTypes.string,\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrName: React.PropTypes.string,\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tlastMove: React.PropTypes.number,\n\t\t\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\t\t\toperBalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tproductCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tproductName: React.PropTypes.string,\n\t\t\t\t\t\tregDate: React.PropTypes.number,\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\t\ttitle: React.PropTypes.string,\n\t\t\t\t\t\ttype: React.PropTypes.string\n\t\t\t\t\t}).isRequired\n\t\t\t\t}).isRequired,\n\t\t\t\tcardType: React.PropTypes.string.isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet result = data//[\"customerCardList\"][\"card\"].map(function (card) {\n\t\t\t\t\t.map(function (cardWrapped) {\n\t\t\t\t\t\tvar card = cardWrapped[\"cardData\"],\n\t\t\t\t\t\t\ttype = cardWrapped[\"cardType\"];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tbalance: card.account.operBalance,\n\t\t\t\t\t\t\tbalanceTrue: card.account.balance,\n\t\t\t\t\t\t\tiban: card.account.iban,\n\t\t\t\t\t\t\tid: card.cardCode || \"\",\n\t\t\t\t\t\t\ttype: type,//getCardType(card.cardCode).niceName || getCardType(card.cardCode).name,\n\t\t\t\t\t\t\tcurrency: card.account.currAlfaCode,\n\t\t\t\t\t\t\tstatus: card.status,\n\t\t\t\t\t\t\t_raw: card, /* (Almost) Raw server data */\n\t\t\t\t\t\t\tbranchCode: card.account.branchCode\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\t\"produced\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tid: React.PropTypes.string.isRequired,\n\t\t\t\ttype: React.PropTypes.string,\n\t\t\t\tcurrency: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t_raw: React.PropTypes.shape({\n\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tcardCode: React.PropTypes.string, /* Card can be without number if not emitted */\n\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tembossedName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tfromDate: React.PropTypes.number, /* Card can be without fromDate */\n\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\ttariffId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\ttoDate: React.PropTypes.number, /* Card can be without toDate */\n\t\t\t\t\taccount: React.PropTypes.shape({\n\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tbranchCode: React.PropTypes.string,\n\t\t\t\t\t\tbranchName: React.PropTypes.string,\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrName: React.PropTypes.string,\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tlastMove: React.PropTypes.number,\n\t\t\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\t\t\toperBalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tproductCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tproductName: React.PropTypes.string,\n\t\t\t\t\t\tregDate: React.PropTypes.number,\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\t\ttitle: React.PropTypes.string,\n\t\t\t\t\t\ttype: React.PropTypes.string\n\t\t\t\t\t}).isRequired\n\t\t\t\t}).isRequired\n\t\t\t}).isRequired\n\t\t).isRequired\n\t},\n\t{\n\t\t\"name\": \"cardsAllStatuses\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/cards\",\n\t\t// \"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/cards.json\",\n\t\t\"expected\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tcardData: React.PropTypes.shape({\n\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tcardCode: React.PropTypes.string, /* Card can be without number if not emitted */\n\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tembossedName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tfromDate: React.PropTypes.number, /* Card can be without fromDate */\n\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\ttariffId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\ttoDate: React.PropTypes.number, /* Card can be without toDate */\n\t\t\t\t\taccount: React.PropTypes.shape({\n\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tbranchCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tbranchName: React.PropTypes.string,\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrName: React.PropTypes.string,\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tlastMove: React.PropTypes.number,\n\t\t\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\t\t\toperBalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tproductCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tproductName: React.PropTypes.string,\n\t\t\t\t\t\tregDate: React.PropTypes.number,\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\t\ttitle: React.PropTypes.string,\n\t\t\t\t\t\ttype: React.PropTypes.string\n\t\t\t\t\t}).isRequired\n\t\t\t\t}).isRequired,\n\t\t\t\tcardType: React.PropTypes.string.isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t).isRequired,\n/*\t\t\"expected\": React.PropTypes.shape({\n\t\t\tcustomerCardList: React.PropTypes.shape({\n\t\t\t\tcard: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcardCode: React.PropTypes.string, // Card can be without number if not emitted\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tembossedName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tfromDate: React.PropTypes.number, // Card can be without fromDate\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string,//.isRequiredNonEmpty, // not really required, human-readable text\n\t\t\t\t\t\ttariffId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\ttoDate: React.PropTypes.number, // Card can be without toDate\n\t\t\t\t\t\taccount: React.PropTypes.shape({\n\t\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\t\tbranchCode: React.PropTypes.string,\n\t\t\t\t\t\t\tbranchName: React.PropTypes.string,\n\t\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tcurrName: React.PropTypes.string,\n\t\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tlastMove: React.PropTypes.number,\n\t\t\t\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\t\t\t\toperBalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\t\tproductCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tproductName: React.PropTypes.string,\n\t\t\t\t\t\t\tregDate: React.PropTypes.number,\n\t\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tstatusCode: React.PropTypes.string,//.isRequiredNonEmpty, // not really required, human-readable text\n\t\t\t\t\t\t\ttitle: React.PropTypes.string,\n\t\t\t\t\t\t\ttype: React.PropTypes.string\n\t\t\t\t\t\t}).isRequired\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired//NonEmpty\n\t\t\t}).isRequired\n\t\t}).isRequired,*/\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet result = data//[\"customerCardList\"][\"card\"].map(function (card) {\n\t\t\t\t\t.map(function (cardWrapped) {\n\t\t\t\t\t\tvar card = cardWrapped[\"cardData\"],\n\t\t\t\t\t\t\ttype = cardWrapped[\"cardType\"];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tbalance: card.account.operBalance,\n\t\t\t\t\t\t\tbalanceTrue: card.account.balance,\n\t\t\t\t\t\t\tiban: card.account.iban,\n\t\t\t\t\t\t\tid: card.cardCode || \"\",\n\t\t\t\t\t\t\ttype: type,//getCardType(card.cardCode).niceName || getCardType(card.cardCode).name,\n\t\t\t\t\t\t\tcurrency: card.account.currAlfaCode,\n\t\t\t\t\t\t\tstatus: card.status,\n\t\t\t\t\t\t\t_raw: card, /* (Almost) Raw server data */\n\t\t\t\t\t\t\tbranchCode: card.account.branchCode\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\t\"produced\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tid: React.PropTypes.string.isRequired,\n\t\t\t\ttype: React.PropTypes.string,\n\t\t\t\tcurrency: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t_raw: React.PropTypes.shape({\n\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tcardCode: React.PropTypes.string, /* Card can be without number if not emitted */\n\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tembossedName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tfromDate: React.PropTypes.number, /* Card can be without fromDate */\n\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\ttariffId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\ttoDate: React.PropTypes.number, /* Card can be without toDate */\n\t\t\t\t\taccount: React.PropTypes.shape({\n\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tbranchCode: React.PropTypes.string,\n\t\t\t\t\t\tbranchName: React.PropTypes.string,\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrName: React.PropTypes.string,\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tlastMove: React.PropTypes.number,\n\t\t\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\t\t\toperBalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tproductCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tproductName: React.PropTypes.string,\n\t\t\t\t\t\tregDate: React.PropTypes.number,\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\t\ttitle: React.PropTypes.string,\n\t\t\t\t\t\ttype: React.PropTypes.string\n\t\t\t\t\t}).isRequired\n\t\t\t\t}).isRequired\n\t\t\t}).isRequired\n\t\t).isRequired\n\t},\n\t{\n\t\t\"name\": \"currency\",\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/currency?code=KZT,RUB,USD,EUR,GBP\",\n\t\t// \"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/currency.json\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\trateList: React.PropTypes.shape({\n\t\t\t\trate: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrIsoCode: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tcurrSaleAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrSaleIsoCode: React.PropTypes.string.isRequired,\n\t\t\t\t\t\trateType: React.PropTypes.oneOf([\"BUY\", \"SELL\"]).isRequired,\n\t\t\t\t\t\tvalue: React.PropTypes.number.isRequired,\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet allRates = data[\"rateList\"][\"rate\"],\n\t\t\t\tresultRates = {},\n\t\t\t\tcurrList = [],\n\t\t\t\tcurrKeys = {},\n\t\t\t\tresultRatesUpper= {};\n\n\t\t\tallRates.forEach((rate)=> {\n\t\t\t\tlet fromCurrency = rate.currAlfaCode,\n\t\t\t\t\ttoCurrency = rate.currSaleAlfaCode;\n\n\t\t\t\tif (rate.rateType === \"SELL\") {\n\t\t\t\t\tresultRates[fromCurrency] = resultRates[fromCurrency] || {};\n\t\t\t\t\tresultRatesUpper[fromCurrency] = resultRatesUpper[fromCurrency] || {};\n\t\t\t\t\tresultRates[fromCurrency][toCurrency] = rate[\"value\"];\n\t\t\t\t\tresultRatesUpper[fromCurrency][toCurrency] = rate[\"value\"];\n\n\n\n\t\t\t\t}\n\t\t\t\telse { //BUY\n\t\t\t\t\t[fromCurrency, toCurrency] = [toCurrency, fromCurrency];\n\t\t\t\t\tresultRates[fromCurrency] = resultRates[fromCurrency] || {};\n\t\t\t\t\tresultRates[fromCurrency][toCurrency] = 1/rate[\"value\"];\n\t\t\t\t\tresultRatesUpper[fromCurrency] = resultRatesUpper[fromCurrency] || {};\n\t\t\t\t\tresultRatesUpper[fromCurrency][toCurrency] = rate[\"value\"];\n\n\t\t\t\t}\n\n\t\t\t\tif (!currKeys[rate.currAlfaCode]) {\n\t\t\t\t\tcurrKeys[rate.currAlfaCode] = true;\n\t\t\t\t\tcurrList.push({id: rate.currAlfaCode, text: rate.currAlfaCode});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!currKeys[\"KZT\"]) {\n\t\t\t\tcurrList.unshift({id: \"KZT\", text: \"KZT\"});\n\t\t\t}\n\t\t\tcurrList.forEach(function (curr) {\n\t\t\t\tresultRates[curr.id][curr.id] = 1;\n\t\t\t\tresultRatesUpper[curr.id][curr.id] = 1;\n\t\t\t});\n\n\n\t\t\treturn {\n\t\t\t\tcurrencyList: currList,\n\t\t\t\texchangeRates: resultRates,\n\t\t\t\texchangeRatesUpper: resultRatesUpper\n\t\t\t};\n\t\t},\n\n\t\t\"produced\": React.PropTypes.shape({\n\t\t\tcurrencyList: React.PropTypes.arrayOf(\n\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\ttext: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t}).isRequired\n\t\t\t).isRequiredNonEmpty,\n\t\t\texchangeRates: React.PropTypes.objectOf(\n\t\t\t\tReact.PropTypes.objectOf(\n\t\t\t\t\tReact.PropTypes.number.isRequired\n\t\t\t\t).isRequired\n\t\t\t).isRequired,\n\t\t\texchangeRatesUpper: React.PropTypes.objectOf(\n\t\t\t\tReact.PropTypes.objectOf(\n\t\t\t\t\tReact.PropTypes.number.isRequired\n\t\t\t\t).isRequired\n\t\t\t).isRequired\n\t\t})\n\t},\n\t{\n\t\t\"name\": \"getCountryUsages\",\n\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/getCountryUsages.json\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tcountryList: React.PropTypes.shape({\n\t\t\t\tcountry: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tcode: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tlongName: React.PropTypes.string.isRequired,\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet result = data[\"countryList\"][\"country\"];\n\t\t\treturn result;\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"KZTcurrencyRates\",\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/currency?code=KZT,RUB,USD,EUR,GBP\",\n\t\t//\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/currency.json\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\trateList: React.PropTypes.shape({\n\t\t\t\trate: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrIsoCode: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tcurrSaleAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrSaleIsoCode: React.PropTypes.string.isRequired,\n\t\t\t\t\t\trateType: React.PropTypes.oneOf([\"BUY\", \"SELL\"]).isRequired,\n\t\t\t\t\t\tvalue: React.PropTypes.number.isRequired,\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (response) {\n\t\t\tlet result = {\n\t\t\t\t\"BUY\": {},\n\t\t\t\t\"SELL\": {}\n\t\t\t};\n\n\t\t\tlet data = response.rateList.rate.filter(function (item) {\n\t\t\t\treturn item[\"currSaleAlfaCode\"] === \"KZT\"\n\t\t\t})\n\n\t\t\tdata.map(function (item) {\n\t\t\t\t(item[\"rateType\"] === \"BUY\")\n\t\t\t\t\t? (result[\"BUY\"][item.currAlfaCode] = item.value)\n\t\t\t\t\t: (result[\"SELL\"][item.currAlfaCode] = item.value)\n\t\t\t})\n\n\t\t\treturn result;\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"documents\",\n\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/documents.json\",\n\t\t\"expected\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttext: React.PropTypes.string.isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t).isRequired\n\t},\n\t{\n\t\t\"name\": \"customerDeposits\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/customerDeposits\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tdepositList: React.PropTypes.shape({\n\t\t\t\tdeposit: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tamount: React.PropTypes.number,\n\t\t\t\t\t\tbeginDate: React.PropTypes.number,\n\t\t\t\t\t\tcapital: React.PropTypes.number,\n\t\t\t\t\t\tcontructNum: React.PropTypes.string,\n\t\t\t\t\t\tcurrency: React.PropTypes.string,\n\t\t\t\t\t\tdepartmentId: React.PropTypes.string,\n\t\t\t\t\t\tendDate: React.PropTypes.number,\n\t\t\t\t\t\tiban: React.PropTypes.string,\n\t\t\t\t\t\tisAdPayment: React.PropTypes.number,\n\t\t\t\t\t\tisEarlyTermination: React.PropTypes.number,\n\t\t\t\t\t\tisPartialFund: React.PropTypes.number,\n\t\t\t\t\t\tisPartialReward: React.PropTypes.number,\n\t\t\t\t\t\tpayPeriod: React.PropTypes.string,\n\t\t\t\t\t\tpercent: React.PropTypes.number,\n\t\t\t\t\t\tprolonPermit: React.PropTypes.number,\n\t\t\t\t\t\trewardAmount: React.PropTypes.number,\n\t\t\t\t\t\tsdclCode: React.PropTypes.string,\n\t\t\t\t\t\tstatus: React.PropTypes.string,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired/*NonEmpty*/\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data;\n\t\t},\n\t},\n\t{\n\t\t\"name\": \"shortDeposits\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/shortDeposits\",\n\t\t// \"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/shortDeposits.json\",\n\t\t\"expected\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tendDate: React.PropTypes.string,\n\t\t\t\tamount: React.PropTypes.string,\n\t\t\t\trewardAmount: React.PropTypes.string,\n\t\t\t\tnonRemovableResidue: React.PropTypes.string,\n\t\t\t\tcontractNum: React.PropTypes.string,\n\t\t\t\tcurrency: React.PropTypes.string,\n\t\t\t\tpercent: React.PropTypes.number,\n\t\t\t\tstatus: React.PropTypes.string,\n\t\t\t\tstatusCode: React.PropTypes.string,\n\t\t\t\tdepartmentId: React.PropTypes.string\n\t\t\t\t//balance: React.PropTypes.string.isRequired,\n\t\t\t\t//withdrawalAmount: React.PropTypes.string.isRequired\n\t\t\t}).isRequired\n\t\t).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data;\n\t\t},\n\t\t\"produced\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tendDate: React.PropTypes.string,\n\t\t\t\tamount: React.PropTypes.string,\n\t\t\t\trewardAmount: React.PropTypes.string,\n\t\t\t\tnonRemovableResidue: React.PropTypes.string,\n\t\t\t\tcontractNum: React.PropTypes.string,\n\t\t\t\tcurrency: React.PropTypes.string,\n\t\t\t\tpercent: React.PropTypes.number,\n\t\t\t\tstatus: React.PropTypes.string,\n\t\t\t\tstatusCode: React.PropTypes.string,\n\t\t\t\tdepartmentId: React.PropTypes.string\n\t\t\t}).isRequired\n\t\t).isRequired,\n\t},\n\t{\n\t\t\"name\": \"currencyOperation\",\n\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/currencyOperationCode.json\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\toperationList: React.PropTypes.shape({\n\t\t\t\toperation: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tid: React.PropTypes.string.isRequired,\n\t\t\t\t\t\ttext: React.PropTypes.string.isRequired\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data[\"operationList\"][\"operation\"]\n\t\t},\n\t\t\"produced\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttext: React.PropTypes.string.isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t).isRequired\n\t},\n\t{\n\t\t\"name\": \"tmpls\",\n//\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/tmpls.json\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/templates\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\terrorCode: React.PropTypes.oneOf([\"0\"]),\n\t\t\terrorMessage: React.PropTypes.string,\n\t\t\ttemplateList: React.PropTypes.shape({\n\t\t\t\ttemplate: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tname: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tdescription: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tfields: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tuid: React.PropTypes.string.isRequiredNonEmpty,\n\n\t\t\t\t\t\tbpmId: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tbpmName: React.PropTypes.string,\n\t\t\t\t\t\tcreateDate: React.PropTypes.number,\n\t\t\t\t\t\tcreator: React.PropTypes.string,\n\t\t\t\t\t\tiin: React.PropTypes.string,\n\t\t\t\t\t\tupdateDate: React.PropTypes.number,\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired/*NonEmpty*/\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data[\"templateList\"][\"template\"]\n\t\t\t\t.map(function (tmpl) {\n\t\t\t\t\tlet {\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tdescription,\n\t\t\t\t\t\tbpmName,\n\t\t\t\t\t\tfields,\n\t\t\t\t\t\tuid } = tmpl;\n\t\t\t\t\treturn {uid, name, description, bpmName, fields: JSON.parse(fields)};\n\t\t\t\t});\n\t\t},\n\t\t\"produced\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tuid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tname: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tdescription: React.PropTypes.string.isRequired,\n\t\t\t\tfields: React.PropTypes.shape({\n\t\t\t\t\tpaymentData: React.PropTypes.shape({\n\t\t\t\t\t\tpayerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tpayerType: React.PropTypes.oneOf([\"card\", \"account\"]),\n\t\t\t\t\t\tpaymentCurrency: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tpaymentFee: React.PropTypes.number, // Not required\n\t\t\t\t\t\tpaymentSum: React.PropTypes.number.isRequired,\n\t\t\t\t\t}),\n\t\t\t\t}).isRequired\n\t\t\t}).isRequired\n\t\t).isRequired\n\t},\n\t{\n\t\t\"name\": \"accounts\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/accounts\",\n\t\t// \"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/accounts.json\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\taccountList: React.PropTypes.shape({\n\t\t\t\taccount: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tbranchCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\ttitle: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data[\"accountList\"][\"account\"]\n\t\t\t\t.filter(function (account) {\n\t\t\t\t\treturn (account[\"status\"] === \"OPENED\");\n\t\t\t\t})\n\t\t\t\t.map(function (account) {\n\t\t\t\t\tlet {\n\t\t\t\t\t\tblockFlag: isBlocked,\n\t\t\t\t\t\tbranchCode,\n\t\t\t\t\t\toperBalance,\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tcurrAlfaCode,\n\t\t\t\t\t\tcustomerId,\n\t\t\t\t\t\tiban,\n\t\t\t\t\t\ttitle } = account,\n\t\t\t\t\t\tbalanceTrue;\n\n\t\t\t\t\tisBlocked = Boolean(+isBlocked);\n\t\t\t\t\tbalanceTrue = balance;\n\t\t\t\t\tbalance = operBalance;\n\n\t\t\t\t\treturn {isBlocked, branchCode, balance, operBalance, currAlfaCode, customerId, iban, title};\n\t\t\t\t});\n\t\t},\n\t\t\"produced\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tisBlocked: React.PropTypes.bool.isRequiredNonEmpty,\n\t\t\t\tbranchCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttitle: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t}).isRequired\n\t\t).isRequiredNonEmpty\n\t},\n\t{\n\t\t\"name\": \"accountsAllStatuses\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/accounts\",\n\t\t//\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/accounts.json\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\taccountList: React.PropTypes.shape({\n\t\t\t\taccount: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tblockFlag: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tbranchCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\ttitle: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tstatusCode: React.PropTypes.string/*.isRequiredNonEmpty*/, /* not really required, human-readable text*/\n\t\t\t\t\t\ttype: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tregDate: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\t\t\tmiddlename: React.PropTypes.string,\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data[\"accountList\"][\"account\"]\n\t\t\t\t.map(function (account) {\n\t\t\t\t\tlet {\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\toperBalance,\n\t\t\t\t\t\tblockFlag: blockedCount,\n\t\t\t\t\t\tblockFlag: isBlocked,\n\t\t\t\t\t\tbranchCode,\n\t\t\t\t\t\tcurrAlfaCode,\n\t\t\t\t\t\tcustomerId,\n\t\t\t\t\t\tiban,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tstatus,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tregDate,\n\t\t\t\t\t\tfirstname,\n\t\t\t\t\t\tlastname,\n\t\t\t\t\t\tmiddlename\n\t\t\t\t\t} = account,\n\t\t\t\t\t\tbalanceTrue;\n\n\t\t\t\t\t// blockedCount = blockFlag;\n\t\t\t\t\tisBlocked = Boolean(+isBlocked);\n\t\t\t\t\tbalanceTrue = balance;\n\t\t\t\t\tbalance = operBalance;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tbalance,\n\t\t\t\t\t\tbalanceTrue,\n\t\t\t\t\t\tblockedCount,\n\t\t\t\t\t\toperBalance,\n\t\t\t\t\t\tbranchCode,\n\t\t\t\t\t\tisBlocked,\n\t\t\t\t\t\tcurrAlfaCode,\n\t\t\t\t\t\tcustomerId,\n\t\t\t\t\t\tiban,\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tstatus,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tregDate,\n\t\t\t\t\t\tfirstname,\n\t\t\t\t\t\tlastname,\n\t\t\t\t\t\tmiddlename\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t},\n\t\t\"produced\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tbalance: React.PropTypes.number.isRequired,\n\t\t\t\tisBlocked: React.PropTypes.bool.isRequiredNonEmpty,\n\t\t\t\tbranchCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tcurrAlfaCode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tiban: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttitle: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tstatus: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttype: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tregDate: React.PropTypes.number.isRequired,\n\t\t\t\tfirstname: React.PropTypes.string,\n\t\t\t\tlastname: React.PropTypes.string,\n\t\t\t\tmiddlename: React.PropTypes.string\n\t\t\t}).isRequired\n\t\t).isRequiredNonEmpty\n\t},\n\t{\n\t\t\"name\": \"client\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/client\",\n//\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/client.json\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tresult: React.PropTypes.object,\n\t\t\tclient: React.PropTypes.shape({\n\t\t\t\tinn: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tmobilePhone: React.PropTypes.string.isRequired,\n\t\t\t\taddressList: React.PropTypes.shape({\n\t\t\t\t\taddress: React.PropTypes.arrayOf(\n\t\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\t\tfullAddress: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\t\tisDelivery: React.PropTypes.oneOf([\"Y\", \"N\"]).isRequired,\n\t\t\t\t\t\t})\n\t\t\t\t\t).isRequired\n\t\t\t\t}).isRequired,\n\t\t\t\tlastName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tfirstName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tmiddleName: React.PropTypes.string.isRequired,\n\t\t\t\tdateOfB: React.PropTypes.number.isRequired,\n\t\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tclientLogin: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tfatca: React.PropTypes.string,\n\t\t\t\tsex: React.PropTypes.oneOf([\"Ж\", \"М\"]).isRequired,\n\t\t\t\temail: React.PropTypes.string,\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\t//Clearing data: fix wrong iin key, fix cyrillic values for switches,\n\t\t\t//\tflatten addresses, change char to bool for boolean switch\n\t\t\tdata[\"client\"][\"iin\"] = data[\"client\"][\"inn\"];\n\t\t\tdelete data[\"client\"][\"inn\"];\n\t\t\tdata[\"client\"][\"sex\"] = (data[\"client\"][\"sex\"] === \"Ж\") ? \"f\" : \"m\";\n\t\t\tdata[\"client\"][\"addressList\"] = data[\"client\"][\"addressList\"][\"address\"].map(function (address) {\n\t\t\t\taddress[\"isDelivery\"] = (address[\"isDelivery\"] === \"Y\");\n\t\t\t\treturn address;\n\t\t\t});\n\t\t\tdata[\"client\"][\"addressList\"] = sortArrayByProperty(data[\"client\"][\"addressList\"], \"-createdDate\")\n\t\t\treturn data[\"client\"];\n\t\t},\n\t\t\"produced\": React.PropTypes.shape({\n\t\t\tiin: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\tmobilePhone: React.PropTypes.string.isRequired,\n\t\t\taddressList: React.PropTypes.arrayOf(\n\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\tfullAddress: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\tisDelivery: React.PropTypes.bool.isRequired,\n\t\t\t\t})\n\t\t\t).isRequired,\n\t\t\tlastName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\tfirstName: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\tmiddleName: React.PropTypes.string.isRequired,\n\t\t\tdateOfB: React.PropTypes.number.isRequired,\n\t\t\tcustomerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\tclientLogin: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\tfatca: React.PropTypes.string,\n\t\t\tsex: React.PropTypes.oneOf([\"f\", \"m\"]).isRequired,\n\t\t\temail: React.PropTypes.string,\n\t\t}).isRequired\n\t},\n\t{\n\t\t\"name\": \"countries\",\n\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/countries.json\",\n\t\t\"expected\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttext: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttype: React.PropTypes.string.isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t).isRequired\n\t},\n\t{\n\t\t\"name\": \"transferType\",\n\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/transferType.json\",\n\t\t\"expected\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttext: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttype: React.PropTypes.string.isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t).isRequired\n\t},\n\t{\n\t\t\"name\": \"categoriesSuppliers\",\n\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/categoriesSuppliersWithoutSuppliers.json\",\n\t\t\"expected\": React.PropTypes.arrayOf(\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttext: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tsuppliers: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\ttext: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t})\n\t\t)\n\t},\n\t{\n\t\t\"name\": \"products\",\n\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/products.json\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tproductList: React.PropTypes.shape({\n\t\t\t\tproduct: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tid: React.PropTypes.string.isRequired,\n\t\t\t\t\t\ttext: React.PropTypes.string.isRequired,\n\t\t\t\t\t\ttype: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tpaymentSystem: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tkind: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tcurrency: React.PropTypes.array.isRequired,\n\t\t\t\t\t\tdesign: React.PropTypes.array.isRequired,\n\t\t\t\t\t\tcostIssue: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tcostDelivery: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tcostSelfDelivery: React.PropTypes.number.isRequired\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet result = data[\"productList\"][\"product\"];\n\t\t\treturn result;\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"getCountry\",\n\t\t// \"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/getCountry.json\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/countries\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tcountryList: React.PropTypes.shape({\n\t\t\t\tcountry: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tid: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tcode: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tlongName: React.PropTypes.string.isRequired,\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet result = data[\"countryList\"][\"country\"];\n\t\t\treturn result;\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"getRegion\",\n\t\t// \"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/getRegion.json\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/regions\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tregionList: React.PropTypes.shape({\n\t\t\t\tregion: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tid: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tlongName: React.PropTypes.string.isRequired,\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet result = data[\"regionList\"][\"region\"];\n\t\t\treturn result;\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"getCity\",\n\t\t// \"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/getCity.json\",\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/cities\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tcityList: React.PropTypes.shape({\n\t\t\t\tcity: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tid: React.PropTypes.string.isRequired,\n\t\t\t\t\t\tlongName: React.PropTypes.string.isRequired,\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequired\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\tlet result = data[\"cityList\"][\"city\"];\n\t\t\treturn result;\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"getCountryKorona\",\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/koronaOnlinePayMap\",\n\t\t//\"url\": \"$(contextRoot)/services/rest/esb/countries\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tbankInf: React.PropTypes.arrayOf().isRequired,\n\t\t\tcityInf: React.PropTypes.arrayOf().isRequired,\n\t\t\tcountry: React.PropTypes.arrayOf(\n\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\tcountryISO: React.PropTypes.string.isRequired,\n\t\t\t\t\tcountryName: React.PropTypes.string.isRequired\n\t\t\t\t}).isRequired\n\t\t\t).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data[\"country\"];\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"getInfoCardByNumber\",\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/cardsProductCatalogData\",\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data;\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"getInfoCardByNumber6\",\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/cardsProductCatalogData6\",\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data;\n\t\t}\n\t},\n\t{\n\t\t\"name\": \"getNotifications\",\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/notifications?onlyNotSeenFlg=true\",\n\t\t\"expected\": React.PropTypes.shape({\n\t\t\tinn: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\tnotifications: React.PropTypes.shape({\n\t\t\t\tnotification: React.PropTypes.arrayOf(\n\t\t\t\t\tReact.PropTypes.shape({\n\t\t\t\t\t\tid: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tcode: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tprocessId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\ttitle: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\ttext: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\t\t\tisSeen: React.PropTypes.bool.isRequiredNonEmpty,\n\t\t\t\t\t\tseenDate: React.PropTypes.number.isRequired,\n\t\t\t\t\t\tsmsChanelFlg: React.PropTypes.bool.isRequiredNonEmpty,\n\t\t\t\t\t\tpushChanelFlg: React.PropTypes.bool.isRequiredNonEmpty,\n\t\t\t\t\t\temailChanelFlg: React.PropTypes.bool.isRequiredNonEmpty,\n\t\t\t\t\t\tuserLogin: React.PropTypes.string.isRequiredNonEmpty\n\t\t\t\t\t}).isRequired\n\t\t\t\t).isRequiredNonEmpty\n\t\t\t}).isRequired\n\t\t}).isRequired,\n\t\t\"dataTransformer\": function (data) {\n\t\t\treturn data['notifications'] ? data['notifications']['notification'] : [];\n\t\t}\n\t}\n\n];\n\nlet _servicesConfig = {\n\t\"exchange\": {\n\t\t\"timeout\": 300\n\t},\n\t\"getCommission\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/calculate/servicePayFee\",\n\t\t\"timeout\": 300\n\t},\n\t\"getInterestAmount\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/calculate/interest\",\n\t\t\"timeout\": 300\n\t},\n\t\"getServiceProviders\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/calculate/servicePayProviders\"\n\t},\n\t\"calculateTransaction\": {\n\t\t// Format of settings received by service, not server data format\n\t\t\"expected\": React.PropTypes.oneOfType([\n\t\t\tReact.PropTypes.shape({\n//\t\t\t\tfromAmount: React.PropTypes.number.isRequired,\n\t\t\t\tfromCurrency: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\ttoAmount: React.PropTypes.number.isRequired,\n\t\t\t\ttoCurrency: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tcommission: React.PropTypes.oneOfType([\n\t\t\t\t\tReact.PropTypes.string,\n\t\t\t\t\tReact.PropTypes.arrayOf([\n\t\t\t\t\t\tReact.PropTypes.string,\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tcallerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tcallback: React.PropTypes.func,\n\t\t\t}).isRequired,\n\t\t\tReact.PropTypes.shape({\n\t\t\t\tfromAmount: React.PropTypes.number.isRequired,\n\t\t\t\tfromCurrency: React.PropTypes.string.isRequiredNonEmpty,\n//\t\t\t\ttoAmount: React.PropTypes.number.isRequired,\n\t\t\t\ttoCurrency: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tcommission: React.PropTypes.oneOfType([\n\t\t\t\t\tReact.PropTypes.string,\n\t\t\t\t\tReact.PropTypes.arrayOf([\n\t\t\t\t\t\tReact.PropTypes.string,\n\t\t\t\t\t])\n\t\t\t\t]),\n\t\t\t\tcallerId: React.PropTypes.string.isRequiredNonEmpty,\n\t\t\t\tcallback: React.PropTypes.func,\n\t\t\t}).isRequired,\n\t\t])\n\t},\n\t\"changePassword\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/setUserPassword?newPassword=\",\n\t},\n\t\"getCountryTransferData\": {\n\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/$(countryId).json\",\n\t},\n\t\"clientByIban\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/account?iban=\",\n\t},\n\t\"clientByPhone\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/clientByPhoneWrapped?phone=\",\n\t},\n\t\"clientByFacebook\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/clientByFacebookWrapped?facebookLogin=\",\n\t},\n\t\"getBankBySWIFT\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/swiftName?swiftCode=\",\n\t},\n\t\"checkIIN\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/checkIin?checkIin=\",\n\t},\n\t\"checkVIN\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/kis/getTFBOY?aVIN=\",\n\t},\n\t\"structIIN\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/kis/byRNNBOYStructIIN?searchIin=\",\n\t},\n\t\"getItemsAltynStruct\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/kis/getItemsAltynStruct?dictionary=\",\n\t},\n\t\"setClientAltyn\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/kis/setClientsAltyn\",\n\t},\n\t\"ecmDocumentList\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=file&url=\",\n\t\t\"encodedUrl\": \"http://localhost/ecmapi/json/documents\"\n\t},\n\t\"ecmDocumentPreview\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=file&url=\",\n\t\t\"encodedUrl\": \"http://localhost/ecmapi/json/documents/$(documentId)/thumb\"\n\t},\n\t\"getDepositContractById\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=file&url=\",\n\t\t\"encodedUrl\": \"http://localhost/ecmapi/json/documents/$(documentId)/content\"\n\t},\n\t\"getDepositContractByIban\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=file&url=\",\n\t\t\"encodedUrl\": \"http://localhost/ecmapi/json/documents/?DocumentType=DOG_VKL&DocumentNumber=$(iban)\"\n\t},\n\t\"ecmDocumentThumbExisting\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=file&url=\",\n\t\t\"encodedUrl\": \"http://localhost/ecmapi/json/documents/$(documentId)/thumbexisting\"\n\t},\n\t\"ecmDocumentDownload\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=download&url=\",\n\t\t\"encodedUrl\": \"http://localhost/ecmapi/json/documents/$(documentId)/content?fileName=$(documentName)\"\n\t},\n\t\"ecmDocumentUpload\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=file&url=\",\n\t\t\"encodedUrl\": \"http://localhost/ecmapi/json/documents\"\n\t},\n\t\"ecmDocumentUpdate\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=file&url=\",\n\t\t\"encodedUrl\": \"http://localhost/ecmapi/json/documents/$(documentId)\"\n\t},\n\t\"saveTemplate\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/createTemplate\"\n\t},\n\t\"updateTemplate\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/updateTemplate\"\n\t},\n\t\"updateClient\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/client\"\n\t},\n\t\"checkRefsExists\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/ecm/refsExists?iin=$(iin)&docNumber=$(docNumber)\"\n\t},\n\t\"checkVacantUser\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/checkVacantUser\"\n\t},\n\t\"getOperations\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/operations\"\n\t},\n\t\"getDocCertificates\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/ecm/accounts\"\n\t},\n\t\"getDepositCertificates\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/ecm/deposits\"\n\t},\n\t\"getDocRequisites\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/ecm/requisites\"\n\t},\n\t\"getDocCurrent\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/ecm/operations\"\n\t},\n\t\"getDocDeposit\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/ecm/depositOperations\"\n\t},\n\t\"dataCapUpload\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=services&url=\",\n\t\t\"encodedUrl\": \"http://localhost:9094/altyn-services/services/rest/ecm/dataCapUpload\"\n\t},\n\t\"getBatchAttrDataCap\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/ecm/getBatchAttrDataCap?queueId=$(queueId)\"\n\t},\n\t\"getDataCapFile\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/ecm/getDataCapFile?filename=$(fileName)&queueId=$(queueId)&batchId=$(batchId)\"\n\t},\n\t\"sendSmsWithTemporaryCode\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/portalInternal/sendSmsWithTemporaryCode?phone=\"\n\t},\n\t\"checkTemporaryCode\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/portalInternal/checkTemporaryCode?code=\"\n\t},\n\t\"getPublicProcesses\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/bpm/instance/public\"\n\t},\n\t\"getActiveProcesses\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/bpm/instances/query\"\n\t},\n\t\"getUnauthorizedFeedbackCase\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/feedbackCase\"\n\t},\n\t\"getP2POrder\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/createKazkomOrder\",\n//\t\t\"url\": \"$(resourceRoot)/static/altyn-bundle/mocks/p2porder.json\",\n\t},\n\t\"getAllBills\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/ecm/allBills\"\n\t},\n\n\t// Facebook\n\t\"fbTokenStatus\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/facebook/hasFacebookAccessToken\"\n\t},\n\t\"generateFBToken\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/facebook/extendAccessToken?accessToken=\"\n\t},\n\t\"fbHost\": { // For direct calls with short token\n\t\t\"url\": \"https://graph.facebook.com/v2.5\"\n\t},\n\t\"fbProxy\": { // Principal way to call FB api, with long tokens stored on server\n\t\t\"url\": \"$(contextRoot)/services/rest/facebook/proxy/v2.5\"\n\t},\n\t\"fbMe\": {\n\t\t\"url\": \"/me\"\n\t},\n\t\"fbFriends\": {\n\t\t\"url\": \"/me/friends?fields=id,name,picture\"\n\t},\n\t\"fbPermissions\": {\n\t\t\"url\": \"/me/permissions\"\n\t},\n\t// End facebook\n\t\"translationTaskName\": {\n\t\t\"url\": \"$(contextRoot)/proxy$(zonePrefix)?pipe=cached-services&url=\",\n\t\t\"encodedUrl\": \"http://localhost:9094/altyn-services/services/rest/esb/translation?formId=$(taskName)\"\n\t},\n\t\"getBankByIbanAccCode\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/bankByIbanAccCode?ibanAccCode=\"\n\t},\n\t\"getDesignCard\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/productCatalog?type=Card\"\n\t},\n\t\"getAccountProductCode\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/productCatalog?type=Account\"\n\t},\n\t\"getCitiesKorona\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/koronaOnlinePayMap?countryISO=\"\n\t},\n\t\"getCurrenciesKorona\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/koronaOnlinePayMap?cityId=\"\n\t},\n\t\"saveColvirClient\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/colvirClient\"\n\t},\n\t\"koronaTariffCalculation\": {\n\t\t\"url\": \"$(contextRoot)/services/rest$(zonePrefix)/esb/koronaTariffCalculation\"\n\t},\n\t\"deleteTemplate\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/deleteTemplate?id=\",\n\t},\n\t//Notifications\n\t\"getNotifications\": {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/notifications?onlyNotSeenFlg=\",\n\t},\n\tcloseNotification: {\n\t\t\"url\": \"$(contextRoot)/services/rest/esb/markAsSeen?notificationId=\",\n\t},\n\topenProcessByProcessId: {\n\t\t\"url\": \"$(contextRoot)/services/rest/bpm/instance/\",\n\t}\n};\n\n\n\nlet _generateEntity = function (entityConfig) {\n\tlet {name, url, expected, produced, dataTransformer = fallThrough} = entityConfig;\n\n\t// Simplest case\n\tlet entity = {\n\t\tname: name,\n\t\tmeta: {\n\t\t\tdata: null,\n\t\t\tisLoading: false,\n\t\t\tloadingError: false,\n\t\t\tlastLoadAttempt: -1,\n\t\t\tlastSuccessfulLoad: -1,\n\t\t},\n\t\txhr: null,\n\t\t_callbacks: [],\n\t};\n\tentity[\"_retriever\"] = function () {\n\t\tentity[\"meta\"].isLoading = true;\n\n\t\tfunction onSuccess(data, textStatus, xhr) {\n\t\t\tlet loadTime = (new Date()).getTime();\n\t\t\tif (typeof(expected) === \"function\") {\n\t\t\t\tlet err = expected({\"data\": data}, \"data\", \"entity._retriever 'expected'\", \"prop\");\n\t\t\t\tif (err instanceof Error) {\n\t\t\t\t\t// Got data of unexpected shape; counted as error\n\t\t\t\t\tonError(xhr, textStatus, err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet finalData = dataTransformer(data);\n\t\t\tif (typeof(produced) === \"function\") {\n\t\t\t\tlet err = produced({\"data\": finalData}, \"data\", \"entity._retriever 'produced'\", \"prop\");\n\t\t\t\tif (err instanceof Error) {\n\t\t\t\t\t// Produced data of unexpected shape; counted as error\n\t\t\t\t\tonError(xhr, textStatus, err);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tentity[\"meta\"] = {\n\t\t\t\tdata: finalData,\n\t\t\t\tisLoading: false,\n\t\t\t\tloadingError: false,\n\t\t\t\tlastLoadAttempt: loadTime,\n\t\t\t\tlastSuccessfulLoad: loadTime,\n\t\t\t};\n\n\t\t\t(entity[\"_callbacks\"] || []).forEach(function (callback) {\n\t\t\t\tcallback(entity);\n\t\t\t});\n\t\t}\n\n\t\tfunction onError(xhr, ajaxOptions, thrownError) {\n\t\t\tlet loadTime = (new Date()).getTime();\n\t\t\tentity[\"meta\"] = {\n\t\t\t\tdata: null,\n\t\t\t\tisLoading: false,\n\t\t\t\tloadingError: thrownError,\n\t\t\t\tlastLoadAttempt: loadTime,\n\t\t\t\tlastSuccessfulLoad: entity[\"meta\"].lastSuccessfulLoad, //copy from previous\n\t\t\t};\n\n\t\t\t(entity[\"_callbacks\"] || []).forEach(function (callback) {\n\t\t\t\tcallback(entity);\n\t\t\t});\n\t\t}\n\n\t\t// Finally make an ajax request\n\n\t\tentity[\"xhr\"] = getAjaxRequest(url,\"GET\",\"json\",onSuccess,onError);\n\t};\n\n\treturn entity;\n};\n\nfunction getDataStore(urlResolver = fallThrough, networkFeature = null) {\n\tif (_store._generated && _store._urlResolver !== urlResolver) {\n\t\tthrow new Error(\"DataStore already generated with different urlResolver\");\n\t}\n\t//\n\t//\tGenerate new store from config\n\t//\n\tif (!_store._generated) {\n\t\t_entitiesConfig.forEach(function (entityConfig) {\n\t\t\tif (entityConfig[\"name\"] && entityConfig[\"url\"]) {\n\t\t\t\tentityConfig[\"url\"] = urlResolver(entityConfig[\"url\"]);\n\t\t\t\t_store.entities[entityConfig[\"name\"]] = _generateEntity(entityConfig);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthrow new Error(\"Invalid config for entity\", entityConfig);\n\t\t\t}\n\t\t});\n\t\t$.each(_servicesConfig, function (serviceName, serviceConfig) {\n\t\t\tif (typeof(serviceConfig[\"url\"]) === \"string\") {\n\t\t\t\tserviceConfig[\"url\"] = urlResolver(serviceConfig[\"url\"]);\n\t\t\t}\n\t\t});\n\t\t_store._urlResolver = urlResolver;\n\t\t_store._networkFeature = networkFeature;\n\t\t_store._generated = true;\n\t\t_store._fbAllowed = false;\n\n\t\t_handleFb();\n\n\t}\n\n\t//\n\t//\tSave Facebook token and optionally link FB account to client\n\t//\n\tfunction _handleFb() {\n\t\tlet shortToken;\n\t\tif (window.location.hash) {\n\n\t\t\tconsole.log(\"window.location\", window.location);\n\n\t\t\t\tlet accessTokenMatch = window.location.hash.match(/access_token\\=([a-zA-Z0-9]+)/);\n\t\t\tconsole.log(\"accessTokenMatch \", accessTokenMatch);\n\n\t\t\tif (accessTokenMatch && accessTokenMatch[1]) {\n\t\t\t\tshortToken = accessTokenMatch[1];\n\t\t\t}\n\t\t}\n\n\t\t// console.log(\"_handleFb \");\n\t\t// console.log(\"shortToken \", shortToken);\n\n\t\tif (shortToken) {\n\t\t\t// We came here from Facebook redirect, with a token\n\t\t\tif (getUrlParams()[\"accountLinking\"]) {\n\t\t\t\t_getFBMeWithShortToken({\n\t\t\t\t\tshortToken,\n\t\t\t\t\tcallback: function(data) {\n\n\t\t\t\t\t\tconsole.log(\"_getFBMeWithShortToken data\", data);\n\t\t\t\t\t\t//console.log('updating', data)\n\t\t\t\t\t\tupdateClient({\"facebookLogin\": data[\"id\"]}, function(d, e) {\n\t\t\t\t\t\t\tconsole.log('updated!');\n\t\t\t\t\t\t\tconsole.log(d, e);\n\n\t\t\t\t\t\t\t_generateFBToken({\n\t\t\t\t\t\t\t\tshortToken,\n\t\t\t\t\t\t\t\tcallback: function(data) {\n\n\t\t\t\t\t\t\t\t\tconsole.log()\n\t\t\t\t\t\t\t\t\tif (data && data[\"value\"] === \"ok\") {\n\t\t\t\t\t\t\t\t\t\t_store._fbAllowed = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// Clear query parameter from address bar\n\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\thistory.pushState(\"\", document.title, window.location.pathname);\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_generateFBToken({\n\t\t\t\t\tshortToken,\n\t\t\t\t\tcallback: function(data) {\n\t\t\t\t\t\tif (data && data[\"value\"] === \"ok\") {\n\t\t\t\t\t\t\t_store._fbAllowed = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif(window.altyn.zonePrefix === \"\"||(window.isMobile && window.altyn.zonePrefix ==\"/open\")){\n\t\t\t\t//Just came on page, need to get token status\n\t\t\t\t_getFBTokenStatus(function(response) {\n\t\t\t\t\tif (response && response[\"value\"] === true) {\n\t\t\t\t\t\t_store._fbAllowed = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t}\n\n\t//\n\t//\tDefine interface to subscribe/unsubscribe to a single entity change\n\t//\n\tfunction subscribe(entityName, callback) {\n\t\tlet callbackList = _store.entities[entityName]._callbacks;\n\t\tcallbackList.push(callback);\n\t}\n\n\tfunction unsubscribe(entityName, callback) {\n\t\tlet callbackList = _store.entities[entityName]._callbacks,\n\t\t\tindex = callbackList.indexOf(callback);\n\t\tif (index !== -1) {\n\t\t\tcallbackList.splice(index, 1);\n\t\t}\n\t}\n\n\t//\n\t//\tDefine interface to initialize some entity - make request if no\n\t//\t\tdata available\n\t//\n\n\t// TODO this\n\n\t//\n\t//\tDefine interface to ask for a list of entities and receive update on\n\t//\t\teach change; and to unsubscribe from receiving updates.\n\t//\n\tlet _getEntitiesCalls = {\"default\": []};\n\n\tfunction getEntities(ent, cback, callerId) {\n\t\tif (!callerId) {\n\t\t\tthrow new Error(\"callerId not supplied for getEntities call\");\n\t\t}\n\n\t\tlet callback = cback || noop,\n\t\t\tentities = makeList(ent);\n\t\tif (!Array.isArray(_getEntitiesCalls[callerId])) {\n\t\t\t_getEntitiesCalls[callerId] = [];\n\t\t}\n\n\t\tlet result = {\n\t\t\tentities: {},\n\t\t\tisLoading: false,\n\t\t\tloadingError: false,\n\t\t\tlastLoadAttempt: -1,\n\t\t\tlastSuccessfulLoad: -1,\n\t\t};\n\n\t\tentities.forEach(function (entityName) {\n\t\t\tif (!_store.entities[entityName]) {\n\t\t\t\tvar e = new Error(\"Requested entity '\" + entityName + \"' could not be found in store config; check spelling\");\n\t\t\t\te.name = entityName;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tresult.entities[entityName] = _store.entities[entityName].meta;\n\t\t\t}\n\t\t});\n\n\t\t// Will update result for requested list of entities, inc. loading status\n\t\tfunction updateResult(changedEntity = null) {\n\t\t\tif (changedEntity && changedEntity[\"meta\"]) {\n\t\t\t\tresult.entities[changedEntity[\"name\"]] = changedEntity[\"meta\"];\n\t\t\t}\n\n\t\t\tresult.isLoading = false;\n\t\t\tresult.loadingError = false;\n\t\t\tentities.forEach(function (entityName) {\n\t\t\t\tlet entityMeta = _store.entities[entityName].meta\n\t\t\t\tresult.isLoading = result.isLoading || entityMeta.isLoading;\n\t\t\t\tresult.loadingError = result.loadingError || entityMeta.loadingError;\n\t\t\t\tresult.lastLoadAttempt = Math.max(result.lastLoadAttempt, entityMeta.lastLoadAttempt);\n\t\t\t\tresult.lastSuccessfulLoad = Math.max(result.lastSuccessfulLoad, entityMeta.lastSuccessfulLoad);\n\t\t\t});\n\n\t\t\tcallback(result); // Return full result to the caller of getAll\n\t\t}\n\n\t\t// \tInitialize data retrieval for each entity in list (e.g. refresh from\n\t\t//\t\tserver) and subscribe to result(s).\n\t\tentities.forEach(function (entityName) {\n\t\t\t_getEntitiesCalls[callerId].push({entityName: entityName, callback: updateResult});\n\t\t\tsubscribe(entityName, updateResult);\n\n\t\t\tlet entityRetriever = _store.entities[entityName]._retriever;\n\t\t\tentityRetriever(); //initialize data request\n\t\t});\n\n\t\t// Collect data syncronyously, via callback\n\t\tupdateResult();\n\t}\n\n\tfunction stopGettingEntities(callerId) {\n\t\tif (!callerId) {\n\t\t\tthrow new Error(\"callerId not supplied for stopGettingEntities call\");\n\t\t}\n\t\tif (!Array.isArray(_getEntitiesCalls[callerId])) {\n\t\t\tconsole.warn(\"Specified callerId not registered\", callerId);\n\t\t\treturn false;\n\t\t}\n\n\t\t_getEntitiesCalls[callerId].forEach(function (obj) {\n\t\t\tunsubscribe(obj.entityName, obj.callback);\n\t\t});\n\t}\n\n\t//\n\t//\tDefine interface to ask for a list of entities and receive update on\n\t//\t\tsuccessful load/update of all of them.\n\t//\n\tfunction getAll(ent, cback, callerId) {\n\t\tlet callback = cback || noop,\n\t\t\tentities = makeList(ent);\n\n\t\tgetEntities(entities, function (result) {\n\t\t\tif (!result.isLoading && !result.loadingError) {\n\t\t\t\tlet resultProcessed = {};\n\t\t\t\t$.each(result[\"entities\"], function (key, value) {\n\t\t\t\t\tresultProcessed[key] = value.data;\n\t\t\t\t});\n\t\t\t\tcallback(resultProcessed);\n\t\t\t}\n\t\t}, callerId);\n\t}\n\n\n\t//\n\t//\tDefine interface for currency exchange service (sync + 2 x async).\n\t//\tCallback is called twice: with client-side calc, and then with server-\n\t//\t-side calc.\n\t//\t\tcallback(result, initialSettings, isServerSideCalculated)\n\t//\n\tfunction exchange(settings) {\n\t\tlet currency = _store.entities[\"currency\"];\n\t\tif (currency[\"meta\"][\"lastSuccessfulLoad\"] <= 0) {\n\t\t\texchange.stack.push(settings);\n\t\t}\n\t\telse {\n\t\t\texchangeInner(settings, currency[\"meta\"][\"data\"][\"exchangeRates\"]);\n\t\t}\n\t}\n\n\texchange.stack = [];\n\n\tsubscribe(\"currency\", function oneTimeExchangeRateSubscription(changedEntity) {\n\t\t//if success - call stack and unsubscribe\n\t\tif (changedEntity[\"meta\"][\"lastSuccessfulLoad\"] > 0) {\n\t\t\texchange.stack.forEach((settings) => {\n\t\t\t\texchangeInner(settings, changedEntity[\"meta\"][\"data\"][\"exchangeRates\"]);\n\t\t\t});\n\n\t\t\tunsubscribe(\"currency\", oneTimeExchangeRateSubscription);\n\t\t}\n\t});\n\t_store.entities[\"currency\"][\"_retriever\"]();\n\n\tfunction exchangeInner(settings, exchangeRates) {\n\t\tlet {fromCurrency, toCurrency, amount,\n\t\t\tfromAmount = amount, toAmount = null, precision,\n\t\t\tcallback = noop, callerId = \"default\",\n\t\t\tdebounceTime = _servicesConfig[\"exchange\"][\"timeout\"],\n\t\t\tcalculateOnlyOnClient = false} = settings;\n\n\t\tlet hasFromAmount = (typeof(fromAmount) === \"number\" && fromAmount >= 0),\n\t\t\thasToAmount = (typeof(toAmount) === \"number\" && toAmount >= 0);\n\n\n\t\tif (!fromCurrency || !toCurrency) {\n\t\t\tthrow new Error(\"Field 'fromCurrency' or 'toCurrency' not supplied to exchange service call\");\n\t\t}\n\t\tif (!hasFromAmount && !hasToAmount) {\n\t\t\tthrow new Error(\"Valid field 'fromAmount' or 'toAmount' not supplied to exchange service call\");\n\t\t}\n\t\tif (hasFromAmount && hasToAmount) {\n\t\t\tconsole.warn(\"Both 'fromAmount' and 'toAmount' provided; will ignore 'fromAmount'\");\n\t\t}\n\t\tif (typeof(amount) !== \"undefined\") {\n\t\t\tconsole.warn(\"'amount' is deprecated and will be removed. Use 'fromAmount' or 'toAmount'\");\n\t\t}\n\n\n\t\tfunction calculateSync() {\n\t\t\tif (hasToAmount) {\n\t\t\t\treturn toPrecision(toAmount / exchangeRates[fromCurrency][toCurrency], precision)\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn toPrecision(exchangeRates[fromCurrency][toCurrency] * fromAmount, precision)\n\t\t\t}\n\t\t}\n\n\n\t\tfunction serverCall() {\n\t\t\t// Service does not exist yet\n\t\t\t/*\n\t\t\treturn $.ajax({\n\t\t\t\turl: \"invalidExchangeUrl\",\n\t\t\t\ttype: \"GET\",\n\t\t\t\tdataType: \"json\",\n\t\t\t\tsuccess: function(data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, settings, true);\n\t\t\t\t},\n\t\t\t\terror: function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call exchange server service\", thrownError);\n\t\t\t\t},\n\t\t\t});\n\t\t\t*/\n\n\t\t\treturn callback(calculateSync(), settings, true); //fake\n\t\t}\n\n\n\t\t// finally - callback with sync calculation, debounce async\n\t\tlet syncResult = calculateSync();\n\n\t\tcallback(syncResult, settings, false);\n\t\tif (!calculateOnlyOnClient) {\n\t\t\t_debounce(\"exchange.\" + callerId, serverCall, debounceTime);\n\t\t}\n\t}\n\n\n\n\t//\n\t//\tDefine interface for getting country data for\n\t//\tmoney transfers (2 x async)\n\t//\t\tcallback(result, countryId, isServerSideCalculated)\n\t//\n\tlet _countryTransferDataCache = {}; //Possibly move this somewhere...\n\tfunction getCountryTransferData(countryId, callback) {\n\t\tif (_countryTransferDataCache[countryId]) {\n\t\t\tcallback(_countryTransferDataCache[countryId], countryId, false);\n\t\t}\n\t\tvar url =  _servicesConfig[\"getCountryTransferData\"][\"url\"].replace(\"$(countryId)\", countryId),\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t_countryTransferDataCache[countryId] = data;\n\t\t\tcallback(data, countryId, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\tconsole.error(\"Failed to call getCountryTransferData service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\t//\n\t//\t  Define interface for getting client data for transfer money to phone number\n\t//\t\t\t  callback(result, phoneNumber, isServerSideReturnData)\n\t//\n\n\tfunction clientByIban(beneficiaryNumber, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"clientByIban\"][\"url\"] + beneficiaryNumber,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, beneficiaryNumber, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call clientByIban service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"clientByIban\", serverCall);\n\t}\n\n\n\tfunction clientByPhone(phoneNumber, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"clientByPhone\"][\"url\"] + phoneNumber,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, phoneNumber, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call clientByPhone service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"clientByPhone\", serverCall);\n\t}\n\n\n\n\n\t//\t  Define interface for getting client data for transfer money to facebook number\n\t//\t\t\t  callback(result, number, isServerSideReturnData)\n\t//\n\n\tfunction clientByFacebook (number, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"clientByFacebook\"][\"url\"] + number,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, number, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call clientByFacebook service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"clientByFacebook\", serverCall);\n\t}\n\n\t//\t  Define interface for getting bank name by SWIFT code\n\t//\t\t\t  callback(result, number, isServerSideReturnData)\n\t//\n\n\tfunction getBankBySWIFT (number, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"getBankBySWIFT\"][\"url\"] + number,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, number, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call getBankBySWIFT service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"getBankBySWIFT\", serverCall);\n\t}\n\n\t//\t  Define interface for setting new password for user\n\t//\t\t\t  callback(result, isServerSideReturnData)\n\t//\n\n\tfunction changePassword (str, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"changePassword\"][\"url\"] + str,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call changePassword service\", thrownError);\n\t\t\t\t\tcallback(thrownError, false)\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"changePassword\", serverCall);\n\t}\n\n\t//\n\t//\t  Define interface for sending sms to confirm user\n\t//\t\t\t  callback(result, phoneNumber, isServerSideReturnData)\n\t//\n\n\tfunction sendSmsWithTemporaryCode(phoneNumber, callback) {\n\t\tvar url =  _servicesConfig[\"sendSmsWithTemporaryCode\"][\"url\"] + phoneNumber,\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, phoneNumber, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call sendSmsWithTemporaryCode service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\", \"json\", success, error);\n\n\t}\n\n\t//\n\t//\t  Define interface for confirming user by sms code\n\t//\t\t\t  callback(result, code, isServerSideReturnData)\n\t//\n\n\tfunction checkTemporaryCode(code, callback) {\n\t\tvar url =  _servicesConfig[\"checkTemporaryCode\"][\"url\"] + code,\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, code, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call checkTemporaryCode service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\", \"json\", success, error);\n\n\t}\n\n\t//\n\t//\t  Define interface for getting active processes for user in public area\n\t//\t\t\t  callback(result, isServerSideReturnData)\n\t//\n\n\tfunction getPublicProcesses(callback) {\n\t\tvar url =  _servicesConfig[\"getPublicProcesses\"][\"url\"],\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call getPublicProcesses service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\", \"json\", success, error);\n\n\t}\n\n\t//\n\t//\t  Define interface for getting active processes for user in private area\n\t//\t\t\t  callback(result, isServerSideReturnData)\n\t//\n\n\tfunction getActiveProcesses(param) {\n\t\tlet {\n\t\t\toffset, //начало\n\t\t\tsize, //количество(1000)\n\t\t\tprocessStatus,\n\t\t\tcallback //статус запрашиваемых процессов\n\t\t} = param;\n\n\t\tvar url =  _servicesConfig[\"getActiveProcesses\"][\"url\"] +\n\t\t\t`?offset=${offset}&size=${size}`\n\t\t\t+ ((processStatus) ? (\"&processStatus=\" + encodeURIComponent(processStatus)) : ''),\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, param, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call getActiveProcesses service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\", \"json\", success, error);\n\n\t}\n\n\n\t//\n\t//\tDefine interface for documentList.\n\n\tfunction ecmShowDocumentList({processId, documentType, documentNumber, documentId, iin, callback}) {\n\n\t\tlet correctUrl = _servicesConfig[\"ecmDocumentList\"][\"url\"]\n\t\t\t+ encodeURIComponent(\n\t\t\t\t_servicesConfig[\"ecmDocumentList\"][\"encodedUrl\"]\n\t\t\t\t+ ((processId || documentType || documentId) ? \"?\" : \"\")\n\t\t\t\t+ [((processId) ? (\"ProcessId=\" + processId) : \"\"),\n\t\t\t\t\t((documentType) ? (\"DocumentType=\" + documentType) : \"\"),\n\t\t\t\t\t((documentNumber) ? (\"DocumentNumber=\" + documentNumber) : \"\"),\n\t\t\t\t\t((documentId) ? (\"Id=\" + documentId) : \"\"),\n\t\t\t\t\t((iin) ? (\"iin=\" + iin) : \"\")] // this parametr is temporary\n\t\t\t\t\t.filter((item) => {\n\t\t\t\t\t\treturn !!item\n\t\t\t\t\t})\n\t\t\t\t\t.join(\"&\")\n\t\t\t);\n\n\n\t\tlet encodeUpdateUrl = (dId) => {\n\t\t\treturn _servicesConfig[\"ecmDocumentUpdate\"][\"url\"]\n\t\t\t\t+ encodeURIComponent(_servicesConfig[\"ecmDocumentUpdate\"][\"encodedUrl\"].replace(\"$(documentId)\", dId))\n\t\t};\n\n\t\tlet encodeDownloadUrl = (dId, dName, dExt) => {\n\t\t\tlet totalName = dName; // + \".\" + dExt.slice(dExt.lastIndexOf(\"/\") + 1);\n\n\t\t\treturn _servicesConfig[\"ecmDocumentDownload\"][\"url\"]\n\t\t\t\t+ encodeURIComponent(_servicesConfig[\"ecmDocumentDownload\"][\"encodedUrl\"].replace(\"$(documentId)\", dId).replace(\"$(documentName)\", encodeURIComponent(totalName)))\n\t\t};\n\n\t\tlet encodePreviewUrl = (dId) => {\n\t\t\treturn _servicesConfig[\"ecmDocumentPreview\"][\"url\"]\n\t\t\t\t+ encodeURIComponent(_servicesConfig[\"ecmDocumentPreview\"][\"encodedUrl\"].replace(\"$(documentId)\", dId))\n\t\t};\n\n\t\tlet success = function (data, xhr) {\n\t\t\t\tlet result = data[\"documents\"];\n\n\t\t\t\t//cut curl-braces and add image and download urls\n\n\t\t\t\tif (result && result.length != 0) {\n\t\t\t\t\tresult.forEach((item) => {\n\n\n\t\t\t\t\t\titem[\"id\"] = (item[\"id\"]).slice(1, -1);\n\n\t\t\t\t\t\titem[\"imageUrl\"] = encodePreviewUrl(item[\"id\"]);\n\t\t\t\t\t\t//item[\"imageUrl\"] = null;\n\t\t\t\t\t\titem[\"downloadUrl\"] = encodeDownloadUrl(item[\"id\"], item[\"fileName\"], item['mimeType']);\n\t\t\t\t\t\titem[\"updateUrl\"] = encodeUpdateUrl(item[\"id\"]);\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tcallback(result, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call ecmShowDocumentList service\", thrownError);\n\t\t\t};\n\n\n\t\t\t//console.log(\"correctUrl\", correctUrl);\n\t\treturn getAjaxRequest(correctUrl, \"GET\", \"json\", success, error);\n\t}\n\n\n\t//\t  Define interface for getting commission for all processes.\n\t//\t\t\t  callback(result, settings, isServerSideCalculated)\n\t//\n\n\tfunction getCommission(settings) {\n\t\tlet { amount, accountCurrency, currency = \"KZT\", providerId,\n\t\t\tcallerId = \"default\", callback,\n\t\t\tdebounceTime = _servicesConfig[\"getCommission\"][\"timeout\"] } = settings;\n\t\tif (typeof(accountCurrency) === \"undefined\" || typeof(amount) !== \"number\" || !providerId || !callback) {\n\t\t\tthrow new Error(\"Mandatory settings not supplied to payment commission service call\");\n\t\t}\n\n\t\tfunction serverCall() {\n\t\t\tlet url = _servicesConfig[\"getCommission\"][\"url\"] +\n\t\t\t\t\t`?amount=${settings.amount}&currency=${settings.currency}&accountCurrency=${accountCurrency}&provider=${settings.providerId}`,\n\t\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, settings, true);\n\t\t\t\t},\n\t\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call payment commission server-side service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t// finally - debounce async\n\t\t_debounce(\"getCommission.\" + callerId, serverCall);\n\t}\n\n\tfunction getInterestAmount(settings) {\n\t\tlet {\n\t\t\tcurrency, //валюта (\"KZT\", \"USD\", \"EUR\")\n\t\t\tamount, //сумма (1000)\n\t\t\tcapitalizationType, //период времени (no/day/month/year)\n\t\t\tduration, // колличество дней (180)\n\t\t\topenDate, //дата открытия вклада (01.01.2015)\n\t\t\tproductCode = \"standart\", // hardcode\n\t\t\tcallback,\n\t\t\tdebounceTime = _servicesConfig[\"getInterestAmount\"][\"timeout\"]\n\t\t} = settings;\n\n\t\tif (typeof(currency) === \"undefined\" || typeof(amount) !== \"number\" || !callback || !capitalizationType || typeof(duration) !==\"number\" || !openDate) {\n\t\t\tthrow new Error(\"Mandatory settings not supplied to payment commission service call\");\n\t\t}\n\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"getInterestAmount\"][\"url\"] +\n\t\t\t\t\t`?amount=${settings.amount}&currency=${settings.currency}&capitalizationType=${settings.capitalizationType}&duration=${settings.duration}&openDate=${settings.openDate}&productCode=${settings.productCode}`,\n\t\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, settings, true);\n\t\t\t\t},\n\t\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call payment commission server-side service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t// finally - debounce async\n\t\t_debounce(\"getInterestAmount\", serverCall);\n\t}\n\n\t//\n\t//\tGet interface for calculating data about generic financial\n\t//\toperation (transaction), with currency exchange and commission(s).\n\t//\n\t//\tcallback(result {from, to, commission, rate, total}, settings)\n\t//\n\n\tfunction calculateTransaction(settings) {\n\t\tvar transaction = {};\n\n\t\t{ // Check settings against type\n\t\t\tlet {expected} = _servicesConfig[\"calculateTransaction\"],\n\t\t\t\terr = expected(settings, \"settings\", \"calculateTransaction\", \"prop\");\n\t\t\tif (err instanceof Error) {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\n\t\tlet {\tfromAmount, fromCurrency,\n\t\t\t\ttoAmount, toCurrency,\n\t\t\t\tcommission,\n\t\t\t\tcallerId, callback\t} = settings;\n\t\tcommission = makeList(commission);\n\n\n\n\t\t//\n\t\t//\tWe consider 'from amount' calculation case.\n\t\t//\n\t\tif (typeof(toAmount) !== \"number\") {\n\t\t\tthrow new Error(\"calculateTransaction with 'fromAmount' not implemented yet; please provide 'toAmount'.\");\n\t\t}\n\n\t\tlet resultFromAmount = () => {\n\t\t\t\texchange({\n\t\t\t\t\tfromCurrency,\n\t\t\t\t\ttoCurrency,\n\t\t\t\t\ttoAmount,\n\t\t\t\t\tprecision: 2,\n\t\t\t\t\tcallback: (result, isServerSideCalculated) => {\n\t\t\t\t\t\t//console.log(\"result\", result)\n\t\t\t\t\t\tObject.assign(transaction, {\n\t\t\t\t\t\t\tfrom: {\n\t\t\t\t\t\t\t\tcurrency: fromCurrency,\n\t\t\t\t\t\t\t\tamount: result,\n\t\t\t\t\t\t\t\tloading: (!isServerSideCalculated),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (isServerSideCalculated) {\n\t\t\t\t\t\t\ttransaction.total = calculateTransactionTotal(transaction);\n\t\t\t\t\t\t\tcallback(transaction);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcallerId: \"calculateTransaction.\" + callerId + \".fromSum\",\n\t\t\t\t});\n\t\t\t},\n\t\t\t// Result rate currencies are inverted!\n\t\t\tresultRate = () => {\n\t\t\t\tlet currencyUpper = _store.entities[\"currency\"][\"meta\"][\"data\"][\"exchangeRatesUpper\"];\n\n\t\t\t\texchange({\n\t\t\t\t\ttoAmount: 1,\n\t\t\t\t\tfromCurrency,\n\t\t\t\t\ttoCurrency,\n\t\t\t\t\tprecision: 7,\n\t\t\t\t\tcallback: (result, isServerSideCalculated) => {\n\n\t\t\t\t\t\tObject.assign(transaction, {\n\t\t\t\t\t\t\texchangeRate: {\n\t\t\t\t\t\t\t\tfromCurrency,\n\t\t\t\t\t\t\t\ttoCurrency,\n\t\t\t\t\t\t\t\trate: result,\n\t\t\t\t\t\t\t\trateOrigin: currencyUpper[fromCurrency][toCurrency],\n\t\t\t\t\t\t\t\tloading: (!isServerSideCalculated),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (isServerSideCalculated) {\n\t\t\t\t\t\t\tcallback(transaction);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcallerId: \"calculateTransaction.\" + callerId + \".rate\",\n\t\t\t\t});\n\t\t\t};\n\n\t\ttransaction = {\n\t\t\tfrom: {\n\t\t\t\tcurrency: fromCurrency,\n\t\t\t\tamount: 0,\n\t\t\t\tloading: true,\n\t\t\t},\n\t\t\tto: {\n\t\t\t\tcurrency: toCurrency,\n\t\t\t\tamount: toAmount,\n\t\t\t\tloading: false,\n\t\t\t},\n\t\t\texchangeRate: {\n\t\t\t\tfromCurrency,\n\t\t\t\ttoCurrency,\n\t\t\t\trate: 0,\n\t\t\t\tloading: true,\n\t\t\t},\n\t\t};\n\t\tif (commission) {\n\t\t\ttransaction.commission = {};\n\t\t\tfor (let commId of commission) {\n\t\t\t\ttransaction.commission[commId] = {\n\t\t\t\t\tloading: true\n\t\t\t\t};\n\n\t\t\t\tgetCommission({\n\t\t\t\t\tamount: toAmount,\n\t\t\t\t\tcurrency: toCurrency,\n\t\t\t\t\taccountCurrency: fromCurrency,\n\t\t\t\t\tproviderId: commId,\n\t\t\t\t\tcallerId: \"calculateTransaction.\" + callerId + \".commission.\" + commId,\n\t\t\t\t\tcallback: function(result, settings, isServerSideCalculated) {\n\n\t\t\t\t\t\ttransaction.commission[commId] = Object.assign(result, {loading: false});\n\t\t\t\t\t\ttransaction.total = calculateTransactionTotal(transaction);\n\t\t\t\t\t\tcallback(transaction);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tresultFromAmount();\n\t\tresultRate();\n\n//\t\ttransaction.total = calculateTransactionTotal(transaction); // Already called in prev. sync callbacks\n\n\t\tfunction calculateTransactionTotal(transData) {\n\t\t\tlet fromTotal = transData.from.amount,\n\t\t\t\tfromLoading = transData.from.loading,\n\t\t\t\ttoTotal = transData.to.amount,\n\t\t\t\ttoLoading = transData.to.loading;\n\n\t\t\tlet fromCommission = 0,\n\t\t\t\ttoCommission = 0,\n\t\t\t\tcommissionLoading = false;\n\n\t\t\tif (commission) {\n\t\t\t\tfor (let commId in transData.commission) {\n\t\t\t\t\tlet commData = transData.commission[commId];\n\n\t\t\t\t\tfromCommission += (commData.feeInAccountCurrency || 0);\n\t\t\t\t\ttoCommission += (commData.feeInPaymentCurrency || 0);\n\t\t\t\t\tcommissionLoading = commissionLoading || commData.loading;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcommission: {\n\t\t\t\t\tfrom: fromCommission,\n\t\t\t\t\tto: toCommission,\n\t\t\t\t\tloading: commissionLoading\n\t\t\t\t},\n\t\t\t\tfrom: {\n\t\t\t\t\tcurrency: transData.from.currency,\n\t\t\t\t\tamount: transData.from.amount + fromCommission,\n\t\t\t\t\tloading: transData.from.loading || commissionLoading,\n\t\t\t\t},\n\t\t\t\tto: {\n\t\t\t\t\tcurrency: transData.to.currency,\n\t\t\t\t\tamount: transData.to.amount + toCommission,\n\t\t\t\t\tloading: transData.to.loading || commissionLoading,\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\n\t\t// First callback, with sync exchange data\n//\t\tcallback(transaction); // already called\n\t}\n\n\n\tfunction uploadFiles({files, documentType, processId, documentNumber, updateUrl, callback, callbackError}) {\n\n\t\t/*validation*/\n\t\tvar formData = new FormData(),\n\t\t\turl,\n\t\t\tapplyTypeDocs = [\"PDF\", \"JPG\", \"BMP\", \"PNG\"],\n\t\t\ttestApplyTypeDocs = [\"PDF\", \"JPEG\", \"BMP\", \"PNG\"],\n\t\t\terrorSize = \"Размер загружаемого файла не должен превышать 5MB\",\n\t\t\terrorType;\n\n\t\tvar typeFile = (files[0].type).slice((files[0].type).indexOf(\"/\") + 1);\n\n\t\tif (documentType == 'DOC_VH_PER' || documentType == 'DOC_ISH_PER') {\n\t\t\tapplyTypeDocs.push(\"DOC\");\n\t\t\ttestApplyTypeDocs.push(\"msword\")\n\t\t}\n\n\t\terrorType = \"Допускается загрузка документов следующих типов : \" + applyTypeDocs.join(\", \")\n\n\t\tfunction checkTypeFile(type) {\n\t\t\tfor (var i = 0; i < testApplyTypeDocs.length; i++) {\n\t\t\t\tif (testApplyTypeDocs[i].toLowerCase() == type) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false\n\t\t}\n\n\t\t/*add headers*/\n\t\tfor (let i = 0, file; file = files[i]; ++i) {\n\t\t\tformData.append(\"File\", file);\n\t\t\tformData.append(\"DocumentType\", documentType);\n\t\t\tformData.append(\"DocumentNumber\", documentNumber);\n\t\t\tprocessId ? formData.append(\"ProcessId\", processId) : null;\n\t\t}\n\n\t\tvar xhr = new XMLHttpRequest();\n\n\t\tif (files[0].size > 5242880 && documentType !== 'VEREF') {\n\t\t\tcallbackError(errorSize)\n\t\t} else if (!checkTypeFile(typeFile) && documentType !== 'VEREF') {\n\t\t\tcallbackError(errorType)\n\t\t} else {\n\t\t\t//callbackError(\"\")\n\n\t\t\tif (updateUrl) {\n\t\t\t\turl = updateUrl;\n\t\t\t} else {\n\t\t\t\turl = _servicesConfig[\"ecmDocumentUpload\"][\"url\"]\n\t\t\t\t\t+ encodeURIComponent(_servicesConfig[\"ecmDocumentUpload\"][\"encodedUrl\"]);\n\t\t\t}\n\n\t\t\txhr.open('POST', url, true);\n\t\t\t// console.log('this[\"response\"]',this[\"response\"]);\n\n\t\t\txhr.onload = function () {\n\t\t\t\tconsole.log('this[\"response\"]',this[\"response\"]);\n\t\t\t\tlet item = \"\";\n\t\t\t\tif (JSON.parse(this[\"response\"])[\"id\"]) {\n\t\t\t\t\titem = (JSON.parse(this[\"response\"])[\"id\"]).slice(1, -1);\n\t\t\t\t}\n\n\n\t\t\t\t// console.log(JSON.parse(this[\"response\"]))\n\t\t\t\t// console.log((JSON.parse(this[\"response\"])[\"id\"]))\n\t\t\t\tif(item !== \"\") storeInterface.ecmThumbReady(item, callback);\n\t\t\t\telse console.log('Error ID is empty.');\n\t\t\t\t//callback(item)\n\t\t\t};\n\n\t\t\txhr.onreadystatechange = function (oEvent) {\n\t\t\t    if (xhr.readyState === 4) {\n\t\t\t        if (xhr.status !== 200) {\n\t\t\t        \tconsole.log(\"Error: \", oEvent.originalTarget.responseText, JSON.parse(oEvent.originalTarget.responseText));\n\t\t\t        \tcallbackError(JSON.parse(oEvent.originalTarget.responseText).errorDescription);\n\t\t\t        }\n\t\t\t    }\n\t\t\t};\n\n\t\t\txhr.send(formData);\n\t\t}\n\t}\n\n\n\t/*!!!!!NOT WORKING - TODO sefimov, update yshpak 01.03.2016*/\n\tfunction ecmThumbReady(dId, callback) {\n\n\t\tlet urlExisting =_servicesConfig[\"ecmDocumentThumbExisting\"][\"url\"]\n\t\t\t+ encodeURIComponent(_servicesConfig[\"ecmDocumentThumbExisting\"][\"encodedUrl\"].replace(\"$(documentId)\", dId));\n\n\t\tconsole.log('urlExisting:', _servicesConfig[\"ecmDocumentThumbExisting\"][\"encodedUrl\"], _servicesConfig[\"ecmDocumentThumbExisting\"][\"encodedUrl\"].replace(\"$(documentId)\", dId));\n\n\t\tlet encodePreviewUrl = (dId) => {\n\t\t\treturn _servicesConfig[\"ecmDocumentPreview\"][\"url\"]\n\t\t\t\t+ encodeURIComponent(_servicesConfig[\"ecmDocumentPreview\"][\"encodedUrl\"].replace(\"$(documentId)\", dId))\n\t\t};\n\n\t\tlet success = function (data, xhr) {\n\t\t\t\tif (!data[\"isThumbExist\"]) {\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tstoreInterface.ecmThumbReady(dId, callback)\n\t\t\t\t\t}, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('encodePreviewUrl(dId):',encodePreviewUrl(dId));\n\t\t\t\t\tcallback (dId)\n\t\t\t\t}\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call ecmThumbReady service\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(urlExisting, \"GET\", \"json\", success, error);\n\t}\n\n\tfunction getNormativeDocument(number, outerCallback) {\n\n\t\tstoreInterface.ecmShowDocumentList({\n\t\t\tdocumentType : \"RegulatoryDocument\",\n\t\t\tdocumentNumber : number,\n\t\t\tcallback : (documents) => { outerCallback(documents[0][\"downloadUrl\"])}\n\t\t})\n\t}\n\n\tfunction getDocumentById (id, outerCallback) {\n\n\t\tstoreInterface.ecmShowDocumentList({\n\t\t\tdocumentId : id,\n\t\t\tcallback : (documents) => { outerCallback(documents[0][\"downloadUrl\"])}\n\t\t})\n\t}\n\n\tfunction markAsSeen(clientData, callback = noop) {\n\t\tlet url =_servicesConfig[\"markAsSeen\"][\"url\"],\n\t\t\tsuccess = function (data, xhr) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call saveColvirClient service\", thrownError);\n\t\t\t\tcallback(thrownError, false);\n\t\t\t},\n\t\t\tdata = JSON.stringify(clientData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction saveColvirClient(clientData, callback = noop) {\n\t\tlet url =_servicesConfig[\"saveColvirClient\"][\"url\"],\n\t\t\tsuccess = function (data, xhr) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call saveColvirClient service\", thrownError);\n\t\t\t\tcallback(thrownError, false);\n\t\t\t},\n\t\t\tdata = JSON.stringify(clientData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction providerByServiceCategory (category, callback) {\n\t\tlet url = _servicesConfig[\"getServiceProviders\"][\"url\"]\n\t\t\t\t\t+ `?offset=0&size=1000`\n\t\t\t\t\t+ ((category) ? (\"&category=\" + encodeURIComponent(category)) : null),\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, category, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call providerByServiceCategory service\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\tfunction saveTemplate(templateData, callback = noop) {\n\t\tlet url =_servicesConfig[\"saveTemplate\"][\"url\"],\n\t\t\tsuccess = function (data, xhr) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call saveTemplate service\", thrownError);\n\t\t\t},\n\t\t\tdata = JSON.stringify(templateData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction updateTemplate(templateData, callback = noop) {\n\t\tlet url =_servicesConfig[\"updateTemplate\"][\"url\"],\n\t\t\tsuccess = function (data, xhr) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call updateTemplate service\", thrownError);\n\t\t\t},\n\t\t\tdata = JSON.stringify(templateData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\t//\t  Define interface for deleting payment templates\n\t//\t\t\t  callback(result, isServerSideReturnData)\n\t//\n\n\tfunction deleteTemplate (id, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"deleteTemplate\"][\"url\"] + id,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call deleteTemplate service\", thrownError);\n\t\t\t\t\tcallback(thrownError, false)\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"deleteTemplate\", serverCall);\n\t}\n\n\t//\n\t//\tTo link facebook account; possibly temporary solution\n\t//\n\tfunction updateClient(clientData, callback = noop) {\n\n\t\tconsole.log(\"updateClient\");\n\n\t\tif (Object.keys(clientData).length !== 1 || !clientData[\"facebookLogin\"]) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet url =_servicesConfig[\"updateClient\"][\"url\"],\n\t\t\tsuccess = function (data, xhr) {\n\t\t\t\tconsole.log(data);\n\t\t\t\tcallback(data, clientData, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call updateClient service\", thrownError);\n\t\t\t},\n\t\t\tdata = JSON.stringify(clientData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction getOperations(settings) {\n\t\tlet {\n\t\t\tdateBegin, // дата с (01.01.2015)\n\t\t\tdateEnd, // дата по (01.01.2015)\n\t\t\tstart, // индекс начала выборки\n\t\t\tsize, // количество операций для выборки\n\t\t\tiban, // iban если есть\n\t\t\tcallback\n\t\t\t} = settings;\n\t\tif (typeof(start) !== \"number\" || typeof(size) !== \"number\" || !callback || !dateBegin || !dateEnd) {\n\t\t\tthrow new Error(\"Mandatory settings not supplied to get operations service call\");\n\t\t\t}\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"getOperations\"][\"url\"] +\n\t\t\t\t\t`?dateBegin=${settings.dateBegin}&dateEnd=${settings.dateEnd}&start=${settings.start}&size=${settings.size}`\n\t\t\t\t\t+ ((iban) ? (\"&iban=\" + encodeURIComponent(iban)) : ''),\n\t\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, settings, true);\n\t\t\t\t},\n\t\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"There is no operation information available for this user\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t// finally - debounce async\n\t\t_debounce(\"getOperations\", serverCall);\n\t}\n\n\tfunction checkVacantUser(callback) {\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"checkVacantUser\"][\"url\"],\n\t\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\t\tconsole.log('data',data);\n\t\t\t\t\tcallback(data, true);\n\t\t\t\t},\n\t\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"There is no operation information available for this user\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\t\t// finally - debounce async\n\t\t_debounce(\"checkVacantUser\", serverCall);\n\t}\n\n\tfunction checkIIN(settings) {\n\t\tlet {iin,callback} = settings;\n\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"checkIIN\"][\"url\"] + `${settings.iin}`,\n\t\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, settings, true);\n\t\t\t\t},\n\t\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tcallback({error: true});\n\t\t\t\t\t// console.error(\"There is no operation information available for this user\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t// finally - debounce async\n\t\t_debounce(\"checkIIN\", serverCall);\n\t}\n\n\tfunction structIIN(settings) {\n\n\t\tlet {iin,callback} = settings;\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"structIIN\"][\"url\"] + `${settings.iin}` + '&residentBOOL=1',\n\t\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, settings, true);\n\t\t\t\t},\n\t\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tcallback({error: true});\n\t\t\t\t\t// console.error(\"There is no operation information available for this user\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"structIIN\", serverCall);\n\t}\n\n\tfunction checkVIN(settings) {\n\t\tlet {vin,\n\t\t\tnumber,\n\t\t\tnomer,\n\t\t\tcallback} = settings;\n\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"checkVIN\"][\"url\"]\n\t\t\t+ ((settings.vin) ? (settings.vin) : '') + '&number='\n\t\t\t+ ((settings.number) ? (settings.number) : '') + '&nomer='\n\t\t\t+ ((settings.nomer) ? (settings.nomer) : ''),\n\t\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, settings, true);\n\t\t\t\t},\n\t\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tcallback({error: true});\n\t\t\t\t\t// console.error(\"There is no operation information available for this user\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t// finally - debounce async\n\t\t_debounce(\"checkVIN\", serverCall);\n\t}\n\n\tfunction getItemsAltynStruct(settings) {\n\n\t\tlet {item,callback} = settings;\n\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"getItemsAltynStruct\"][\"url\"] + `${settings.item}`,\n\t\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, settings, true);\n\t\t\t\t},\n\t\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tcallback({error: true});\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\t\t_debounce(\"getItemsAltynStruct\", serverCall);\n\t}\n\n\tfunction setClientAltyn(clients, callback, errorC) {\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"setClientAltyn\"][\"url\"],\n\t\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\t\tcallback(obj, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\terrorC(thrownError)\n\t\t\t\t},\n\t\t\t\tdata = JSON.stringify(clients);\n\t\t\treturn getAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t\t}\n\t\t_debounce(\"setClientAltyn\", serverCall);\n\t}\n\n\tfunction checkRefsExists(iin,docNumber,callback) {\n\t\tlet url =_servicesConfig[\"checkRefsExists\"][\"url\"].replace(\"$(iin)\", iin).replace(\"$(docNumber)\", docNumber),\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\",\"json\", success, error);\n\t}\n\n\tfunction getDocCertificates(rawData, callback, errorC) {\n\n\t\tlet url =_servicesConfig[\"getDocCertificates\"][\"url\"],\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\terrorC(thrownError)\n\t\t\t},\n\t\t\tdata = JSON.stringify(rawData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction getDepositCertificates(rawData, callback, errorC) {\n\n\t\tlet url =_servicesConfig[\"getDepositCertificates\"][\"url\"],\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\terrorC(thrownError)\n\t\t\t},\n\t\t\tdata = JSON.stringify(rawData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction getDocRequisites(rawData, callback, errorC) {\n\n\t\tlet url =_servicesConfig[\"getDocRequisites\"][\"url\"],\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\terrorC(thrownError)\n\t\t\t},\n\t\t\tdata = JSON.stringify(rawData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction getDocCurrent(from, to, issueDate, iban, callback) {\n\n\t\tlet url =_servicesConfig[\"getDocCurrent\"][\"url\"]\n\t\t\t+ ((from) ? (\"?from=\" + encodeURIComponent(from)) : null)\n\t\t\t+ ((to) ? (\"&to=\" + encodeURIComponent(to)) : null)\n\t\t\t+ ((issueDate) ? (\"&issueDate=\" + encodeURIComponent(issueDate)) : null)\n\t\t\t+ ((iban) ? (\"&iban=\" + encodeURIComponent(iban)) : null),\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\",\"json\", success, error);\n\t}\n\n\tfunction getDocDeposit(from, to, issueDate, iban, callback) {\n\n\t\tlet url =_servicesConfig[\"getDocDeposit\"][\"url\"]\n\t\t\t+ ((from) ? (\"?from=\" + encodeURIComponent(from)) : null)\n\t\t\t+ ((to) ? (\"&to=\" + encodeURIComponent(to)) : null)\n\t\t\t+ ((issueDate) ? (\"&issueDate=\" + encodeURIComponent(issueDate)) : null)\n\t\t\t+ ((iban) ? (\"&iban=\" + encodeURIComponent(iban)) : null),\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\",\"json\", success, error);\n\t}\n\n\tfunction getDepositContractById(contractId) {\n\t\treturn _servicesConfig[\"getDepositContractById\"][\"url\"]\n\t\t\t+ encodeURIComponent(_servicesConfig[\"getDepositContractById\"][\"encodedUrl\"].replace(\"$(documentId)\", contractId))\n\t}\n\n\tfunction passportReader(fileName, documentType, files, callback, errorC) {\n\t\tconsole.log('fileName', fileName);\n\t\tconsole.log('documentType', documentType);\n\t// function passportReader({files, documentType, processId, documentNumber, updateUrl, callback, callbackError}) {\n\n\t\t/*validation*/\n\t\tvar formData = new FormData(),\n\t\t\turl;\n\n\t\t/*add headers*/\n\t\tfor (let i = 0, file; file = files[i]; ++i) {\n\t\t\tformData.append(\"file\", file);\n\t\t\tformData.append(\"fileName\", fileName);\n\t\t\tformData.append(\"docType\", documentType);\n\t\t}\n\n\t\tvar xhr = new XMLHttpRequest();\n\n\t\turl =_servicesConfig[\"dataCapUpload\"][\"url\"]\n\t\t\t+ encodeURIComponent(_servicesConfig[\"dataCapUpload\"][\"encodedUrl\"]);\n\n\t\txhr.open('POST', url, true);\n\t\txhr.onload = function () {\n\n\n\t\t\tlet item = (JSON.parse(this[\"response\"]));\n\t\t\t// let item = (JSON.parse(this[\"response\"])[\"id\"]).slice(1, -1);\n\t\t\tcallback(item)\n\n\t\t\t// console.log(item);\n\n\t\t\t// callback(item)\n\t\t\t// returnStatus(this.status);\n\t\t\tif (xhr.status != 200 && xhr.status != 0) {\n\t\t\t\terrorC(false);\n\t\t\t\tconsole.log('first',500);\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\terrorC(false);\n\t\t\tconsole.log('xhr.upload.onerror',500);\n\t\t}\n\n\t\tconsole.log('xhr',xhr);\n\t\tif (xhr.status != 200 && xhr.status != 0) {\n\t\t\terrorC(false);\n\t\t\tconsole.log('second',500);\n\t\t}\n\t\tif (xhr.status == 504 || xhr.status == 500) {\n\t\t\terrorC(false);\n\t\t\tconsole.log('last',500);\n\t\t}\n\n\t\txhr.send(formData);\n\n\t\tif (xhr.status != 200 && xhr.status != 0) {\n\t\t\terrorC(false);\n\t\t\tconsole.log('second',500);\n\t\t}\n\t\tif (xhr.status == 504 || xhr.status == 500) {\n\t\t\terrorC(false);\n\t\t\tconsole.log('last',500);\n\t\t}\n\n\t\txhr.onreadystatechange = function() {\n\n\t\t  if (this.status != 200) {\n\t\t   \terrorC(false);\n\t\t\tconsole.log('new_ last',500);\n\t\t  }\n\n\t\t  // получить результат из this.responseText или this.responseXML\n\t\t}\n\t}\n\n\tfunction getBatchAttrDataCap (queueId, callback, errorC) {\n\t\tfunction serverCall() {\n\t\t\tlet url =_servicesConfig[\"getBatchAttrDataCap\"][\"url\"].replace(\"$(queueId)\", queueId),\n\t\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\t\tcallback(obj, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\terrorC(thrownError);\n\t\t\t\t\tconsole.error(\"Failed to call service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\",\"json\", success, error);\n\t\t}\n\n\t\t// finally - debounce async\n\t\t_debounce(\"getBatchAttrDataCap\", serverCall);\n\n\t}\n\n\tfunction getDataCapFile (fileName, queueId, batchId, callback) {\n\t\t// \"url\": \"$(contextRoot)/services/rest/ecm/getDataCapFile?fileName=$(fileName)&queueId=$(queueId)&batchId=$(batchId)\"\n\n\t\t\tlet url =_servicesConfig[\"getDataCapFile\"][\"url\"].replace(\"$(fileName)\", fileName).replace(\"$(queueId)\", queueId).replace(\"$(batchId)\", batchId),\n\t\t\t\tsuccess = function (obj, xhr) {\n\n\t\t\t\t\t// let demoObj = {\n\t\t\t\t\t//   \"documentNumber\": \"45 55 666999\",\n\t\t\t\t\t//   \"dateIssue\": \"12.04.2000\",\n\t\t\t\t\t//   \"authority\": \"ОФМС\",\n\t\t\t\t\t//   \"dateExpiry\": \"12.04.2016\"\n\t\t\t\t\t// }\n\t\t\t\t\t// callback(demoObj, true);\n\t\t\t\t\tcallback(obj, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call service\", thrownError);\n\t\t\t\t};\n\t\t\tgetAjaxRequest(url, \"GET\",\"json\", success, error);\n\t}\n\n\tfunction getDepositContractByIban(iban , callback) {\n\t\tlet url =_servicesConfig[\"getDepositContractByIban\"][\"url\"]\n\t\t\t+ encodeURIComponent(_servicesConfig[\"getDepositContractByIban\"][\"encodedUrl\"].replace(\"$(iban)\", iban)),\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\tfunction getUnauthorizedFeedbackCase(messageData, callback, errorC) {\n\t\tlet url = _servicesConfig[\"getUnauthorizedFeedbackCase\"][\"url\"],\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\terrorC(thrownError)\n\t\t\t},\n\t\t\tdata = JSON.stringify(messageData);\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction getP2POrder({callback}) {\n\n\t\tlet url =_servicesConfig[\"getP2POrder\"][\"url\"],\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call getP2POrder service\", thrownError);\n\t\t\t};\n\t\tgetAjaxRequest(url, \"GET\",\"json\", success, error);\n\t}\n\n\tfunction getAllBills(callback) {\n\n\t\tlet url = _servicesConfig[\"getAllBills\"][\"url\"],\n\t\t\tsuccess = function (obj, xhr) {\n\t\t\t\tcallback(obj, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\terrorC(thrownError)\n\t\t\t};\n\t\tgetAjaxRequest(url, \"POST\", \"application/json\", success, error, {});\n\t}\n\n\n\t//\n\t// Facebook interfaces\n\t//\n\n\tlet _fbAppId = window.altyn.fbAppId;\n\n\t// Getting url for logging in facebook. No JS redirect! Should be <a> element with href\n\tfunction getFBLoginUrl({accountLinking} = {}) {\n\n\t\tconsole.log(\"getFBLoginUrl \");\n\t\t//TODO security - pass state here and check at _handleRedirectFromFb;\n\t\treturn \"https://www.facebook.com/dialog/oauth\" +\n\t\t\t\t\"?client_id=\" + _fbAppId +\n\t\t\t\t\"&scope=public_profile,user_friends,email\" +\n\t\t\t\t\"&response_type=token\" +\n\t\t\t\t\"&redirect_uri=\" + encodeURIComponent(\n\t\t\t\t\t\t\t\t\t\tlocation.origin +\n\t\t\t\t\t\t\t\t\t\tlocation.pathname +\n\t\t\t\t\t\t\t\t\t\t((accountLinking)\n\t\t\t\t\t\t\t\t\t\t\t? \"?accountLinking=true\"\n\t\t\t\t\t\t\t\t\t\t\t: location.search)\n\t\t\t\t\t\t\t\t\t);\n\t}\n\t// Getting url for inviting person to Altyn 24. No JS redirect! Should be <a> element with href\n\tfunction getFBInviteUrl() {\n\t\tconsole.log(\"getFBInviteUrl \");\n\n\t\t//TODO security - pass state here and check at _handleRedirectFromFb;\n\t\treturn \"https://www.facebook.com/dialog/send\" +\n\t\t\t\t\"?app_id=\" + _fbAppId +\n\t\t\t\t\"&link=\" + encodeURIComponent(/*location.origin*/\"https://www.altyn-i.kz\") +\n\t\t\t\t\"&redirect_uri=\" + encodeURIComponent(\n\t\t\t\t\t\t\t\t\t\tlocation.origin +\n\t\t\t\t\t\t\t\t\t\tlocation.pathname +\n\t\t\t\t\t\t\t\t\t\tlocation.search\n\t\t\t\t\t\t\t\t\t);\n\t}\n\n\t// Internal call to determine if long token exists\n\tfunction _getFBTokenStatus(callback) {\n\n\t\t// console.log(\"_getFBTokenStatus \");\n\n\t\tlet url = _servicesConfig[\"fbTokenStatus\"][\"url\"],\n\t\t\tsuccess = callback,\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Error at getting FB Token Status\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\t// Internal call to generate long token\n\tfunction _generateFBToken({callback, shortToken}) {\n\n\t\tconsole.log(\"_generateFBToken \");\n\n\t\tlet url = _servicesConfig[\"generateFBToken\"][\"url\"] + shortToken,\n\t\t\tsuccess = callback,\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\n\t\t\t\tconsole.error(\"Error at generating long FB Token\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\t// Internal call to get fb user info, for updating clinet in siebel without long token\n\tfunction _getFBMeWithShortToken({callback, shortToken}) {\n\n\t\tconsole.log(\"_getFBMeWithShortToken \");\n\n\t\tlet url = _servicesConfig[\"fbHost\"][\"url\"] + _servicesConfig[\"fbMe\"][\"url\"] + \"?access_token=\" + shortToken,\n\t\t\tsuccess = callback,\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\n\t\t\t\tconsole.error(\"Error at getting FB Me with short token\" + JSON.stringify(thrownError));\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\tfunction canCallFB() {\n\n\n\t\tconsole.log(\"canCallFB \");\n\t\tconsole.log(\"_store._fbAllowed \", _store._fbAllowed);\n\n\n\t\treturn _store._fbAllowed;\n\t}\n\n\t// Get user profile\n\tfunction getFBMe(callback) {\n\n\t\tconsole.log(\"getFBMe \");\n\n\t// crash facebook fbMe : _servicesConfig[\"fbProxy\"][\"url\"] + _servicesConfig[\"fbMe\"][\"url\"] + (!window.FBtestFake ? '23' : '')\n\t// on error or success set window.FBtestFake = true;\n\t\tlet url = _servicesConfig[\"fbProxy\"][\"url\"] + _servicesConfig[\"fbMe\"][\"url\"],\n\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tif(!window.fbCountError) window.fbCountError = 0;\n\t\t\t\tif(window.fbCountError < 10){\n\t\t\t\t\tconsole.error(\"Error at getting FB Me\" + JSON.stringify(thrownError));\n\t\t\t\t\t_handleFb();\n\t\t\t\t\tgetFBMe(callback);\n\t\t\t\t\twindow.fbCountError++;\n\t\t\t\t}\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\t// Get user friends (with profile pic)\n\tfunction getFBFriends(callback) {\n\n\t\tconsole.log(\"getFBFriends \");\n\n\n\t\tlet url = _servicesConfig[\"fbProxy\"][\"url\"] + _servicesConfig[\"fbFriends\"][\"url\"],\n\t\t\tsuccess = function(data, textStatus, xhr) {\n\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Error at getting FB Friends\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\t//Remove application from user (de-authorize)\n\tfunction deleteFbApp(callback) {\n\n\n\t\tconsole.log(\"deleteFbApp \");\n\n\n\n\t\tlet url = _servicesConfig[\"fbProxy\"][\"url\"] + _servicesConfig[\"fbPermissions\"][\"url\"],\n\t\t\tsuccess = function(data, textStatus, xhr) {\n\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Error at deleting FB App\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"DELETE\", \"json\", success, error);\n\t}\n\n\tfunction saveClientAddress(clientData, callback = noop) {\n\n\t\tconsole.log(\"saveClientAddress \");\n\n\t\tlet url =_servicesConfig[\"updateClient\"][\"url\"],\n\t\t\tsuccess = function(data, textStatus, xhr) {\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Error at update client info\", thrownError);\n\t\t\t},\n\t\t\tdata = JSON.stringify(clientData);\n\t\treturn getAjaxRequest(url, \"POST\", \"application/json\", success, error, data);\n\t}\n\n\tfunction getProfileData(url, callback) {\n\n\t\tconsole.log(\"getProfileData \");\n\n\t\tlet success = function(data, textStatus, xhr) {\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Error at update client info\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\tfunction getImageByUrl(url, callback) {\n\n\t\tconsole.log(\"getImageByUrl \");\n\n\t\tlet success = function(data, textStatus, xhr) {\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Error at update client info\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"image\", success, error);\n\t}\n\n\n\t//Get translation for current task\n\n\tlet translationTaskName = (taskName, callback) => {\n\n\t\tvar url = _servicesConfig[\"translationTaskName\"][\"url\"]\n\t\t\t\t+ encodeURIComponent(_servicesConfig[\"translationTaskName\"][\"encodedUrl\"].replace(\"$(taskName)\", taskName)),\n\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, taskName, true);\n\t\t\t},\n\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call translationTaskName service\", thrownError);\n\t\t\t};\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\n\t};\n\n\t//Get Bank by 3 numbers of iban\n\n\tfunction getBankByIbanAccCode(ibanCode, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"getBankByIbanAccCode\"][\"url\"] + ibanCode,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tdata = data.value;\n\n\t\t\t\t\tcallback(data, ibanCode, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call getBankByIbanAccCode service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"getBankByIbanAccCode\", serverCall);\n\n\t}\n\n\t//Get product card list\n\tfunction getDesignCard({id, productType, productName, productCode, currency, design, isResident, callback}) {\n\n\t\tlet url = _servicesConfig[\"getDesignCard\"][\"url\"]\n\t\t\t+ ((id || productType || productName || productCode || currency || design || isResident) ? \"&\" : \"\")\n\t\t\t+ [((id) ? (\"f.id=\" + id) : \"\"),\n\t\t\t\t((productType) ? (\"f.productType=\" + productType) : \"\"),\n\t\t\t\t((productName) ? (\"f.productName=\" + productName) : \"\"),\n\t\t\t\t((productCode) ? (\"f.productCode=\" + productCode) : \"\"),\n\t\t\t\t((currency) ? (\"f.currency=\" + currency) : \"\"),\n\t\t\t\t((design) ? (\"f.design=\" + design) : \"\"),\n\t\t\t\t((isResident) ? (\"f.isResident=\" + isResident) : \"\")]\n\t\t\t\t.filter((item) => {\n\t\t\t\t\treturn !!item\n\t\t\t\t})\n\t\t\t\t.join(\"&\");\n\n\t\tlet success = function(data, textStatus, xhr) {\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Error getDesignCard\", thrownError);\n\t\t\t};\n\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\n\t//Get product account list\n\tfunction getAccountProductCode({id, productType, productName, productCode, currency, design, isResident, callback}) {\n\n\t\tlet url = _servicesConfig[\"getAccountProductCode\"][\"url\"]\n\t\t\t+ ((id || productType || productName || productCode || currency || design || isResident) ? \"&\" : \"\")\n\t\t\t+ [((id) ? (\"f.id=\" + id) : \"\"),\n\t\t\t\t((productType) ? (\"f.productType=\" + productType) : \"\"),\n\t\t\t\t((productName) ? (\"f.productName=\" + productName) : \"\"),\n\t\t\t\t((productCode) ? (\"f.productCode=\" + productCode) : \"\"),\n\t\t\t\t((currency) ? (\"f.currency=\" + currency) : \"\"),\n\t\t\t\t((design) ? (\"f.design=\" + design) : \"\"),\n\t\t\t\t((isResident) ? (\"f.isResident=\" + isResident) : \"\")]\n\t\t\t\t.filter((item) => {\n\t\t\t\t\treturn !!item\n\t\t\t\t})\n\t\t\t\t.join(\"&\");\n\n\t\tlet success = function(data, textStatus, xhr) {\n\t\t\t\tcallback(data, true);\n\t\t\t},\n\t\t\terror = function(xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Error getAccountProductCode\", thrownError);\n\t\t\t};\n\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\tfunction getCitiesKorona(countryISO, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"getCitiesKorona\"][\"url\"] + countryISO,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, countryISO, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call getCitiesKorona service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"getCitiesKorona\", serverCall);\n\n\t}\n\n\n\tfunction getCurrenciesKorona(cityId, callback) {\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"getCurrenciesKorona\"][\"url\"] + cityId,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, cityId, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call getCurrenciesKorona service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\n\t\t_debounce(\"getCurrenciesKorona\", serverCall);\n\n\t}\n\n\tfunction koronaTariffCalculation(settings) {\n\t\tlet {\n\t\t\t\tdirectionID, //- берет из вызова предыдущего сервиса\n\t\t\t\tamount, //- сумма перевода в копейках/евроцентах/центах\n\t\t\t\tcurrency, //- валюта перевода\n\t\t\t\tpayCurrency, //-  валюта оплаты\n\t\t\t\tcallback,\n\t\t\t} = settings;\n\n\t\tfunction serverCall() {\n\t\t\tvar url =  _servicesConfig[\"koronaTariffCalculation\"][\"url\"] +\n\t\t\t\t\t`?amount=${settings.amount}&directionId=${settings.directionID}&currency=${settings.currency}&payCurrency=${settings.payCurrency}`,\n\t\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\t\tcallback(data, true);\n\t\t\t\t},\n\t\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\t\tconsole.error(\"Failed to call koronaTariffCalculation service\", thrownError);\n\t\t\t\t};\n\t\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t\t}\n\t\t_debounce(\"koronaTariffCalculation\", serverCall);\n\t}\n\n\n\t//Notifications\n\tfunction getNotifications(booleanTypeList, callback) {\n\n\t\tvar url =  _servicesConfig[\"getNotifications\"][\"url\"] + booleanTypeList,\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, booleanTypeList, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call getNotifications service\", thrownError);\n\t\t\t};\n\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\tfunction closeNotification(notificationId, callback) {\n\n\t\tvar url =  _servicesConfig[\"closeNotification\"][\"url\"] + notificationId,\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, notificationId, xhr)\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call closeNotification service\", thrownError);\n\t\t\t};\n\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\n\tfunction openProcessByProcessId(processId, callback) {\n\n\t\tvar url =  _servicesConfig[\"openProcessByProcessId\"][\"url\"] + processId,\n\t\t\tsuccess = function (data, textStatus, xhr) {\n\t\t\t\tcallback(data, processId, true);\n\t\t\t},\n\t\t\terror = function (xhr, ajaxOptions, thrownError) {\n\t\t\t\tconsole.error(\"Failed to call openProcessByProcessId service\", thrownError);\n\t\t\t};\n\n\t\treturn getAjaxRequest(url, \"GET\", \"json\", success, error);\n\t}\n\n\n\t//\n\t//\tResulting API\n\t//\n\tlet storeInterface = {\n\n\t\tgetEntities,\n\t\tstopGettingEntities,\n\t\tgetAll,\n\n\t\texchange,\n\t\tgetCommission,\n\t\tgetInterestAmount,\n\t\tcalculateTransaction,\n\t\tgetCountryTransferData,\n\t\tclientByIban,\n\t\tclientByPhone,\n\t\tchangePassword,\n\t\tuploadFiles,\n\t\tcheckIIN,\n\t\tstructIIN,\n\t\tcheckVIN,\n\t\tgetItemsAltynStruct,\n\t\tsetClientAltyn,\n\t\tcheckRefsExists,\n\t\tcheckVacantUser,\n\t\tecmShowDocumentList,\n\t\tclientByFacebook,\n\t\tgetBankBySWIFT,\n\t\tgetNormativeDocument,\n\t\tecmThumbReady,\n\t\tproviderByServiceCategory,\n\t\tsaveTemplate,\n\t\tsaveColvirClient,\n\t\tupdateTemplate,\n\t\tdeleteTemplate,\n\t\tupdateClient,\n\t\tsaveClientAddress,\n\t\tgetDocumentById,\n\t\tgetDepositContractById,\n\t\tgetDepositContractByIban,\n\t\tgetAjaxRequest,\n\t\tgetOperations,\n\t\tgetDocCertificates,\n\t\tgetDepositCertificates,\n\t\tgetDocRequisites,\n\t\tgetDocCurrent,\n\t\tgetDocDeposit,\n\t\tgetActiveProcesses,\n\t\tgetUnauthorizedFeedbackCase,\n\t\tgetP2POrder,\n\t\tsortArrayByProperty,\n\t\tgetProfileData,\n\t\tpassportReader,\n\t\tgetBatchAttrDataCap,\n\t\tgetDataCapFile,\n\t\ttoTitleCase,\n\t\tformatNumber,\n\t\tgetCardType,\n\t\tgetBankByIbanAccCode,\n\t\tgetDesignCard,\n\t\tgetAccountProductCode,\n\n\t\t// For public services/rest/ecm/allBills\n\t\tgetAllBills,\n\n\t\t// For public area\n\t\tsendSmsWithTemporaryCode,\n\t\tcheckTemporaryCode,\n\t\tgetPublicProcesses,\n\t\tgetImageByUrl,\n\t\t// End for public area\n\n\t\t// Facebook\n\t\tfbServices: {\n\t\t\tgetFBLoginUrl,\n\t\t\tgetFBInviteUrl,\n\t\t\tcanCallFB,\n\t\t\tgetFBMe,\n\t\t\tgetFBFriends,\n\t\t\tdeleteFbApp,\n\t\t},\n\t\t// End Facebook\n\t\ttranslationTaskName,\n\n\t\tsubscribe,\n\t\tunsubscribe,\n\n\t\tgetCitiesKorona,\n\t\tgetCurrenciesKorona,\n\t\tkoronaTariffCalculation,\n\n\t\tnotifications : {\n\t\t\tgetNotifications,\n\t\t\tcloseNotification,\n\t\t\topenProcessByProcessId\n\t\t}\n\t};\n\n\treturn storeInterface;\n}\n\n\nexport default {\n\tlib: {\n\t\ttranslate,\n\t\tgetTranslatorWithAdditional,\n\t\tgetUserAgent,\n\t\tgetLocale,\n\t\tgetDesign,\n\t\tformatNumber,\n\t\ttoPrecision,\n\t\tisCardNumberValid,\n\t\ttoTitleCase,\n\t\tgetUrlParams,\n\t\tcreateQueryString,\n\t\tgetCookie,\n\n\t\tnoop,\n\t\tfallThrough,\n\t\tmakeList,\n\t},\n\tgetDataStore: getDataStore,\n\tconfigureTranslate,\n};\n"],"sourceRoot":"/source/"}